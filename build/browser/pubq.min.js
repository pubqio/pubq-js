/*! For license information please see pubq.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.PUBQ=e():t.PUBQ=e()}(this,(()=>(()=>{var t={8039:(t,e,n)=>{const r=n(3413);class o extends r{constructor(t,e,n,r){super(),this.PENDING=o.PENDING,this.SUBSCRIBED=o.SUBSCRIBED,this.UNSUBSCRIBED=o.UNSUBSCRIBED,this.name=t,this.client=e,this._eventDemux=n,this._dataStream=r.stream(this.name)}createConsumer(t){return this._dataStream.createConsumer(t)}listener(t){return this._eventDemux.stream(`${this.name}/${t}`)}close(){this.client.closeChannel(this.name)}kill(){this.client.killChannel(this.name)}killOutputConsumer(t){this.hasOutputConsumer(t)&&this.client.killChannelOutputConsumer(t)}killListenerConsumer(t){this.hasAnyListenerConsumer(t)&&this.client.killChannelListenerConsumer(t)}getOutputConsumerStats(t){if(this.hasOutputConsumer(t))return this.client.getChannelOutputConsumerStats(t)}getListenerConsumerStats(t){if(this.hasAnyListenerConsumer(t))return this.client.getChannelListenerConsumerStats(t)}getBackpressure(){return this.client.getChannelBackpressure(this.name)}getListenerConsumerBackpressure(t){return this.hasAnyListenerConsumer(t)?this.client.getChannelListenerConsumerBackpressure(t):0}getOutputConsumerBackpressure(t){return this.hasOutputConsumer(t)?this.client.getChannelOutputConsumerBackpressure(t):0}closeOutput(){this.client.channelCloseOutput(this.name)}closeListener(t){this.client.channelCloseListener(this.name,t)}closeAllListeners(){this.client.channelCloseAllListeners(this.name)}killOutput(){this.client.channelKillOutput(this.name)}killListener(t){this.client.channelKillListener(this.name,t)}killAllListeners(){this.client.channelKillAllListeners(this.name)}getOutputConsumerStatsList(){return this.client.channelGetOutputConsumerStatsList(this.name)}getListenerConsumerStatsList(t){return this.client.channelGetListenerConsumerStatsList(this.name,t)}getAllListenersConsumerStatsList(){return this.client.channelGetAllListenersConsumerStatsList(this.name)}getOutputBackpressure(){return this.client.channelGetOutputBackpressure(this.name)}getListenerBackpressure(t){return this.client.channelGetListenerBackpressure(this.name,t)}getAllListenersBackpressure(){return this.client.channelGetAllListenersBackpressure(this.name)}hasOutputConsumer(t){return this.client.channelHasOutputConsumer(this.name,t)}hasListenerConsumer(t,e){return this.client.channelHasListenerConsumer(this.name,t,e)}hasAnyListenerConsumer(t){return this.client.channelHasAnyListenerConsumer(this.name,t)}get state(){return this.client.getChannelState(this.name)}set state(t){throw new Error("Cannot directly set channel state")}get options(){return this.client.getChannelOptions(this.name)}set options(t){throw new Error("Cannot directly set channel options")}subscribe(t){this.client.subscribe(this.name,t)}unsubscribe(){this.client.unsubscribe(this.name)}isSubscribed(t){return this.client.isSubscribed(this.name,t)}transmitPublish(t){return this.client.transmitPublish(this.name,t)}invokePublish(t){return this.client.invokePublish(this.name,t)}}o.PENDING="pending",o.SUBSCRIBED="subscribed",o.UNSUBSCRIBED="unsubscribed",t.exports=o},3282:(t,e,n)=>{const r=n(4375),o=r.InvalidActionError;t.exports=function(t,e,n,i){this.socket=t,this.id=e,this.procedure=n,this.data=i,this.sent=!1,this._respond=(t,e)=>{if(this.sent)throw new o(`Response to request ${this.id} has already been sent`);this.sent=!0,this.socket.sendObject(t,e)},this.end=(t,e)=>{let n={rid:this.id};void 0!==t&&(n.data=t),this._respond(n,e)},this.error=(t,e)=>{let n={rid:this.id,error:r.dehydrateError(t)};this._respond(n,e)}}},9742:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,i=a(t),s=i[0],u=i[1],c=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,u)),h=0,l=u>0?s-4:s;for(n=0;n<l;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],c[h++]=e>>16&255,c[h++]=e>>8&255,c[h++]=255&e;return 2===u&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,c[h++]=255&e),1===u&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,c[h++]=e>>8&255,c[h++]=255&e),c},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,i=[],s=16383,a=0,c=r-o;a<c;a+=s)i.push(u(t,a,a+s>c?c:a+s));return 1===o?(e=t[r-1],i.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],i.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=i[s],r[i.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,r){for(var o,i,s=[],a=e;a<r;a+=3)o=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8764:(t,e,n)=>{"use strict";var r=n(9742),o=n(645),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.lW=u,e.h2=50;var s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return c(t,e,n)}function c(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|m(t,e),r=a(n),o=r.write(t,e);return o!==n&&(r=r.slice(0,o)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(H(t,Uint8Array)){var e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return p(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(H(t,ArrayBuffer)||t&&H(t.buffer,ArrayBuffer))return f(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(H(t,SharedArrayBuffer)||t&&H(t.buffer,SharedArrayBuffer)))return f(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return u.from(r,e,n);var o=function(t){if(u.isBuffer(t)){var e=0|d(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||q(t.length)?a(0):p(t):"Buffer"===t.type&&Array.isArray(t.data)?p(t.data):void 0}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return h(t),a(t<0?0:0|d(t))}function p(t){for(var e=t.length<0?0:0|d(t.length),n=a(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function f(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,u.prototype),r}function d(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function m(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||H(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return M(t).length;default:if(o)return r?-1:j(t).length;e=(""+e).toLowerCase(),o=!0}}function y(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,e,n);case"utf8":case"utf-8":return A(this,e,n);case"ascii":return O(this,e,n);case"latin1":case"binary":return B(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),q(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,o){var i,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){var h=-1;for(i=n;i<a;i++)if(c(t,i)===c(e,-1===h?0:i-h)){if(-1===h&&(h=i),i-h+1===u)return h*s}else-1!==h&&(i-=i-h),h=-1}else for(n+u>a&&(n=a-u),i=n;i>=0;i--){for(var l=!0,p=0;p<u;p++)if(c(t,i+p)!==c(e,p)){l=!1;break}if(l)return i}return-1}function w(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(q(a))return s;t[n+s]=a}return s}function E(t,e,n,r){return F(j(e,t.length-n),t,n,r)}function k(t,e,n,r){return F(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function S(t,e,n,r){return F(M(e),t,n,r)}function _(t,e,n,r){return F(function(t,e){for(var n,r,o,i=[],s=0;s<t.length&&!((e-=2)<0);++s)r=(n=t.charCodeAt(s))>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function C(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function A(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,s,a,u,c=t[o],h=null,l=c>239?4:c>223?3:c>191?2:1;if(o+l<=n)switch(l){case 1:c<128&&(h=c);break;case 2:128==(192&(i=t[o+1]))&&(u=(31&c)<<6|63&i)>127&&(h=u);break;case 3:i=t[o+1],s=t[o+2],128==(192&i)&&128==(192&s)&&(u=(15&c)<<12|(63&i)<<6|63&s)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:i=t[o+1],s=t[o+2],a=t[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(h=u)}null===h?(h=65533,l=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),o+=l}return function(t){var e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=T));return n}(r)}u.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,n){return c(t,e,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,n){return function(t,e,n){return h(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},u.allocUnsafe=function(t){return l(t)},u.allocUnsafeSlow=function(t){return l(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(H(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),H(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var i=t[n];if(H(i,Uint8Array))o+i.length>r.length?u.from(i).copy(r,o):Uint8Array.prototype.set.call(r,i,o);else{if(!u.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o)}o+=i.length}return r},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?A(this,0,t):y.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.h2;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(t,e,n,r,o){if(H(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(i,s),c=this.slice(r,o),h=t.slice(e,n),l=0;l<a;++l)if(c[l]!==h[l]){i=c[l],s=h[l];break}return i<s?-1:s<i?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":case"latin1":case"binary":return k(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function O(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function B(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function x(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=z[t[i]];return o}function I(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function P(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,n,r,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function R(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(t,e,n,r,i){return e=+e,n>>>=0,i||R(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function L(t,e,n,r,i){return e=+e,n>>>=0,i||R(t,0,n,8),o.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r=this.subarray(t,e);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||P(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){t>>>=0,e||P(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return t>>>=0,e||P(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||P(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||P(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||P(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||D(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||D(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var o=Math.pow(2,8*n-1);D(this,t,e,n,o-1,-o)}var i=0,s=1,a=0;for(this[e]=255&t;++i<n&&(s*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var o=Math.pow(2,8*n-1);D(this,t,e,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return L(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return L(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){var o=t.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(t=o)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var s=u.isBuffer(t)?t:u.from(t,r),a=s.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=s[i%a]}return this};var U=/[^+/0-9A-Za-z-_]/g;function j(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function M(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function F(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function H(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function q(t){return t!=t}var z=function(){for(var t="0123456789abcdef",e=new Array(256),n=0;n<16;++n)for(var r=16*n,o=0;o<16;++o)e[r+o]=t[n]+t[o];return e}()},738:(t,e,n)=>{"use strict";const r=n(3341),o=n(6401),i=n(5299);t.exports=function t(e,n){switch(o(e)){case"object":return function(e,n){if("function"==typeof n)return n(e);if(n||i(e)){const r=new e.constructor;for(let o in e)r[o]=t(e[o],n);return r}return e}(e,n);case"array":return function(e,n){const r=new e.constructor(e.length);for(let o=0;o<e.length;o++)r[o]=t(e[o],n);return r}(e,n);default:return r(e)}}},3413:t=>{class e{async next(t){let e=this.createConsumer(t),n=await e.next();return e.return(),n}async once(t){let e=await this.next(t);return e.done&&await new Promise((()=>{})),e.value}createConsumer(){throw new TypeError("Method must be overriden by subclass")}[Symbol.asyncIterator](){return this.createConsumer()}}t.exports=e},6729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,r,i,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,i||t,s),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,o=[];if(0===this._eventsCount)return o;for(r in t=this._events)e.call(t,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,o,i,s){var a=n?n+t:t;if(!this._events[a])return!1;var u,c,h=this._events[a],l=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),l){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,r),!0;case 4:return h.fn.call(h.context,e,r,o),!0;case 5:return h.fn.call(h.context,e,r,o,i),!0;case 6:return h.fn.call(h.context,e,r,o,i,s),!0}for(c=1,u=new Array(l-1);c<l;c++)u[c-1]=arguments[c];h.fn.apply(h.context,u)}else{var p,f=h.length;for(c=0;c<f;c++)switch(h[c].once&&this.removeListener(t,h[c].fn,void 0,!0),l){case 1:h[c].fn.call(h[c].context);break;case 2:h[c].fn.call(h[c].context,e);break;case 3:h[c].fn.call(h[c].context,e,r);break;case 4:h[c].fn.call(h[c].context,e,r,o);break;default:if(!u)for(p=1,u=new Array(l-1);p<l;p++)u[p-1]=arguments[p];h[c].fn.apply(h[c].context,u)}}return!0},a.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,o){var i=n?n+t:t;if(!this._events[i])return this;if(!e)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||o&&!a.once||r&&a.context!==r||s(this,i);else{for(var u=0,c=[],h=a.length;u<h;u++)(a[u].fn!==e||o&&!a[u].once||r&&a[u].context!==r)&&c.push(a[u]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a},645:(t,e)=>{e.read=function(t,e,n,r,o){var i,s,a=8*o-r-1,u=(1<<a)-1,c=u>>1,h=-7,l=n?o-1:0,p=n?-1:1,f=t[e+l];for(l+=p,i=f&(1<<-h)-1,f>>=-h,h+=a;h>0;i=256*i+t[e+l],l+=p,h-=8);for(s=i&(1<<-h)-1,i>>=-h,h+=r;h>0;s=256*s+t[e+l],l+=p,h-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),i-=c}return(f?-1:1)*s*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var s,a,u,c=8*i-o-1,h=(1<<c)-1,l=h>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+l>=1?p/u:p*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(e*u-1)*Math.pow(2,o),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,o),s=0));o>=8;t[n+f]=255&a,f+=d,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;t[n+f]=255&s,f+=d,s/=256,c-=8);t[n+f-d]|=128*m}},5299:(t,e,n)=>{"use strict";var r=n(7798);function o(t){return!0===r(t)&&"[object Object]"===Object.prototype.toString.call(t)}t.exports=function(t){var e,n;return!1!==o(t)&&"function"==typeof(e=t.constructor)&&!1!==o(n=e.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")}},7798:t=>{"use strict";t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},6401:t=>{var e=Object.prototype.toString;function n(t){return"function"==typeof t.constructor?t.constructor.name:null}t.exports=function(t){if(void 0===t)return"undefined";if(null===t)return"null";var r=typeof t;if("boolean"===r)return"boolean";if("string"===r)return"string";if("number"===r)return"number";if("symbol"===r)return"symbol";if("function"===r)return"GeneratorFunction"===n(t)?"generatorfunction":"function";if(function(t){return Array.isArray?Array.isArray(t):t instanceof Array}(t))return"array";if(function(t){return!(!t.constructor||"function"!=typeof t.constructor.isBuffer)&&t.constructor.isBuffer(t)}(t))return"buffer";if(function(t){try{if("number"==typeof t.length&&"function"==typeof t.callee)return!0}catch(t){if(-1!==t.message.indexOf("callee"))return!0}return!1}(t))return"arguments";if(function(t){return t instanceof Date||"function"==typeof t.toDateString&&"function"==typeof t.getDate&&"function"==typeof t.setDate}(t))return"date";if(function(t){return t instanceof Error||"string"==typeof t.message&&t.constructor&&"number"==typeof t.constructor.stackTraceLimit}(t))return"error";if(function(t){return t instanceof RegExp||"string"==typeof t.flags&&"boolean"==typeof t.ignoreCase&&"boolean"==typeof t.multiline&&"boolean"==typeof t.global}(t))return"regexp";switch(n(t)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(t){return"function"==typeof t.throw&&"function"==typeof t.return&&"function"==typeof t.next}(t))return"generator";switch(r=e.call(t)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return r.slice(8,-1).toLowerCase().replace(/\s/g,"")}},3661:t=>{"use strict";var e,n;function r(){if(arguments.length)return r.from(arguments)}function o(){}e="An argument without append, prepend, or detach methods was given to `List",n=r.prototype,r.of=function(){return r.from.call(this,arguments)},r.from=function(t){var e,n,r,o=new this;if(t&&(e=t.length))for(n=-1;++n<e;)null!=(r=t[n])&&o.append(r);return o},n.head=null,n.tail=null,n.toArray=function(){for(var t=this.head,e=[];t;)e.push(t),t=t.next;return e},n.prepend=function(t){if(!t)return!1;if(!t.append||!t.prepend||!t.detach)throw new Error(e+"#prepend`.");var n;return(n=this.head)?n.prepend(t):(t.detach(),t.list=this,this.head=t,t)},n.append=function(t){if(!t)return!1;if(!t.append||!t.prepend||!t.detach)throw new Error(e+"#append`.");var n,r,o;return(o=(n=this).tail)?o.append(t):(r=n.head)?r.append(t):(t.detach(),t.list=n,n.head=t,t)},r.Item=o;var i=o.prototype;i.next=null,i.prev=null,i.list=null,i.detach=function(){var t=this,e=t.list,n=t.prev,r=t.next;return e?(e.tail===t&&(e.tail=n),e.head===t&&(e.head=r),e.tail===e.head&&(e.tail=null),n&&(n.next=r),r&&(r.prev=n),t.prev=t.next=t.list=null,t):t},i.prepend=function(t){if(!(t&&t.append&&t.prepend&&t.detach))throw new Error(e+"Item#prepend`.");var n=this,r=n.list,o=n.prev;return!!r&&(t.detach(),o&&(t.prev=o,o.next=t),t.next=n,t.list=r,n.prev=t,n===r.head&&(r.head=t),r.tail||(r.tail=n),t)},i.append=function(t){if(!(t&&t.append&&t.prepend&&t.detach))throw new Error(e+"Item#append`.");var n=this,r=n.list,o=n.next;return!!r&&(t.detach(),o&&(t.next=o,o.prev=t),t.prev=n,t.list=r,n.next=t,n!==r.tail&&r.tail||(r.tail=t),t)},t.exports=r},3357:(t,e,n)=>{"use strict";t.exports=n(3661)},1438:t=>{t.exports=function(t){var e=[],n=[];return function t(r,o){var i,s,a;if(!("object"!=typeof r||null===r||r instanceof Boolean||r instanceof Date||r instanceof Number||r instanceof RegExp||r instanceof String)){for(i=0;i<e.length;i+=1)if(e[i]===r)return{$ref:n[i]};if(e.push(r),n.push(o),"[object Array]"===Object.prototype.toString.apply(r))for(a=[],i=0;i<r.length;i+=1)a[i]=t(r[i],o+"["+i+"]");else for(s in a={},r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=t(r[s],o+"["+JSON.stringify(s)+"]"));return a}return r}(t,"$")}},4375:(t,e,n)=>{var r=n(1438),o=function(){return!this}();function i(t,e){this.name="AuthTokenExpiredError",this.message=t,this.expiry=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function s(t){this.name="AuthTokenInvalidError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function a(t,e){this.name="AuthTokenNotBeforeError",this.message=t,this.date=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function u(t){this.name="AuthTokenError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function c(t){this.name="AuthError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function h(t,e){this.name="SilentMiddlewareBlockedError",this.message=t,this.type=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function l(t){this.name="InvalidActionError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function p(t){this.name="InvalidArgumentsError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function f(t){this.name="InvalidOptionsError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function d(t){this.name="InvalidMessageError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function m(t,e){this.name="SocketProtocolError",this.message=t,this.code=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function y(t){this.name="ServerProtocolError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function g(t){this.name="HTTPServerError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function v(t){this.name="ResourceLimitError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function b(t){this.name="TimeoutError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function w(t,e){this.name="BadConnectionError",this.message=t,this.type=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function E(t){this.name="BrokerError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function k(t,e){this.name="ProcessExitError",this.message=t,this.code=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function S(t){this.name="UnknownError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}i.prototype=Object.create(Error.prototype),s.prototype=Object.create(Error.prototype),a.prototype=Object.create(Error.prototype),u.prototype=Object.create(Error.prototype),c.prototype=Object.create(Error.prototype),h.prototype=Object.create(Error.prototype),l.prototype=Object.create(Error.prototype),p.prototype=Object.create(Error.prototype),f.prototype=Object.create(Error.prototype),d.prototype=Object.create(Error.prototype),m.prototype=Object.create(Error.prototype),y.prototype=Object.create(Error.prototype),g.prototype=Object.create(Error.prototype),v.prototype=Object.create(Error.prototype),b.prototype=Object.create(Error.prototype),w.prototype=Object.create(Error.prototype),E.prototype=Object.create(Error.prototype),k.prototype=Object.create(Error.prototype),S.prototype=Object.create(Error.prototype),t.exports={AuthTokenExpiredError:i,AuthTokenInvalidError:s,AuthTokenNotBeforeError:a,AuthTokenError:u,AuthError:c,SilentMiddlewareBlockedError:h,InvalidActionError:l,InvalidArgumentsError:p,InvalidOptionsError:f,InvalidMessageError:d,SocketProtocolError:m,ServerProtocolError:y,HTTPServerError:g,ResourceLimitError:v,TimeoutError:b,BadConnectionError:w,BrokerError:E,ProcessExitError:k,UnknownError:S},t.exports.socketProtocolErrorStatuses={1001:"Socket was disconnected",1002:"A WebSocket protocol error was encountered",1003:"Server terminated socket because it received invalid data",1005:"Socket closed without status code",1006:"Socket hung up",1007:"Message format was incorrect",1008:"Encountered a policy violation",1009:"Message was too big to process",1010:"Client ended the connection because the server did not comply with extension requirements",1011:"Server encountered an unexpected fatal condition",4e3:"Server ping timed out",4001:"Client pong timed out",4002:"Server failed to sign auth token",4003:"Failed to complete handshake",4004:"Client failed to save auth token",4005:"Did not receive #handshake from client before timeout",4006:"Failed to bind socket to message broker",4007:"Client connection establishment timed out",4008:"Server rejected handshake from client",4009:"Server received a message before the client handshake"},t.exports.socketProtocolIgnoreStatuses={1e3:"Socket closed normally",1001:"Socket hung up"};var _={domain:1,domainEmitter:1,domainThrown:1};t.exports.dehydrateError=function(t,e){var n;if(t&&"object"==typeof t)for(var o in n={message:t.message},e&&(n.stack=t.stack),t)_[o]||(n[o]=t[o]);else n="function"==typeof t?"[function "+(t.name||"anonymous")+"]":t;return r(n)},t.exports.hydrateError=function(t){var e=null;if(null!=t)if("object"==typeof t)for(var n in e=new Error(t.message),t)t.hasOwnProperty(n)&&(e[n]=t[n]);else e=t;return e},t.exports.decycle=r},5556:(t,e,n)=>{const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=/^[ \n\r\t]*[{\[]/;let i=function(t){let e=new Uint8Array(t),n=e.length,o="";for(let t=0;t<n;t+=3)o+=r[e[t]>>2],o+=r[(3&e[t])<<4|e[t+1]>>4],o+=r[(15&e[t+1])<<2|e[t+2]>>6],o+=r[63&e[t+2]];return n%3==2?o=o.substring(0,o.length-1)+"=":n%3==1&&(o=o.substring(0,o.length-2)+"=="),o},s=function(t,e){if(n.g.ArrayBuffer&&e instanceof n.g.ArrayBuffer)return{base64:!0,data:i(e)};if(n.g.Buffer){if(e instanceof n.g.Buffer)return{base64:!0,data:e.toString("base64")};if(e&&"Buffer"===e.type&&Array.isArray(e.data)){let t;return t=n.g.Buffer.from?n.g.Buffer.from(e.data):new n.g.Buffer(e.data),{base64:!0,data:t.toString("base64")}}}return e};t.exports.decode=function(t){if(null==t)return null;if("#1"===t||"#2"===t)return t;let e=t.toString();if(!o.test(e))return e;try{return JSON.parse(e)}catch(t){}return e},t.exports.encode=function(t){return"#1"===t||"#2"===t?t:JSON.stringify(t,s)}},3341:(t,e,n)=>{"use strict";const r=Symbol.prototype.valueOf,o=n(6401);t.exports=function(t,e){switch(o(t)){case"array":return t.slice();case"object":return Object.assign({},t);case"date":return new t.constructor(Number(t));case"map":return new Map(t);case"set":return new Set(t);case"buffer":return function(t){const e=t.length,n=Buffer.allocUnsafe?Buffer.allocUnsafe(e):Buffer.from(e);return t.copy(n),n}(t);case"symbol":return function(t){return r?Object(r.call(t)):{}}(t);case"arraybuffer":return function(t){const e=new t.constructor(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}(t);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function(t,e){return new t.constructor(t.buffer,t.byteOffset,t.length)}(t);case"regexp":return function(t){const e=void 0!==t.flags?t.flags:/\w+$/.exec(t)||void 0,n=new t.constructor(t.source,e);return n.lastIndex=t.lastIndex,n}(t);case"error":return Object.create(t);default:return t}}},2984:(t,e,n)=>{const r=n(7955),o=n(1116),i="17.1.1";t.exports.factory=o,t.exports.AGClientSocket=r,t.exports.create=function(t){return o.create({...t,version:i})},t.exports.version=i},9147:(t,e,n)=>{function r(){this._internalStorage={},this.isLocalStorageEnabled=this._checkLocalStorageEnabled()}r.prototype._checkLocalStorageEnabled=function(){let t;try{n.g.localStorage,n.g.localStorage.setItem("__scLocalStorageTest",1),n.g.localStorage.removeItem("__scLocalStorageTest")}catch(e){t=e}return!t},r.prototype.saveToken=function(t,e,r){return this.isLocalStorageEnabled&&n.g.localStorage?n.g.localStorage.setItem(t,e):this._internalStorage[t]=e,Promise.resolve(e)},r.prototype.removeToken=function(t){let e=this.loadToken(t);return this.isLocalStorageEnabled&&n.g.localStorage?n.g.localStorage.removeItem(t):delete this._internalStorage[t],e},r.prototype.loadToken=function(t){let e;return e=this.isLocalStorageEnabled&&n.g.localStorage?n.g.localStorage.getItem(t):this._internalStorage[t]||null,Promise.resolve(e)},t.exports=r},7955:(t,e,n)=>{const r=n(9051),o=n(6631),i=n(8039),s=n(9147),a=n(5556),u=n(202),c=n(3357),h=n(738),l=n(8764).lW,p=n(7931),f=n(4375),d=f.InvalidArgumentsError,m=f.InvalidMessageError,y=(f.InvalidActionError,f.SocketProtocolError),g=f.TimeoutError,v=f.BadConnectionError,b="undefined"!=typeof window;function w(t){o.call(this);let e=Object.assign({path:"/socketcluster/",secure:!1,protocolScheme:null,socketPath:null,autoConnect:!0,autoReconnect:!0,autoSubscribeOnConnect:!0,connectTimeout:2e4,ackTimeout:1e4,timestampRequests:!1,timestampParam:"t",authTokenName:"socketcluster.authToken",binaryType:"arraybuffer",batchOnHandshake:!1,batchOnHandshakeDuration:100,batchInterval:50,protocolVersion:2,wsOptions:{},cloneData:!1},t);this.id=null,this.version=e.version||null,this.protocolVersion=e.protocolVersion,this.state=this.CLOSED,this.authState=this.UNAUTHENTICATED,this.signedAuthToken=null,this.authToken=null,this.pendingReconnect=!1,this.pendingReconnectTimeout=null,this.preparingPendingSubscriptions=!1,this.clientId=e.clientId,this.wsOptions=e.wsOptions,this.connectTimeout=e.connectTimeout,this.ackTimeout=e.ackTimeout,this.channelPrefix=e.channelPrefix||null,this.disconnectOnUnload=null==e.disconnectOnUnload||e.disconnectOnUnload,this.authTokenName=e.authTokenName,e.pingTimeout=e.connectTimeout,this.pingTimeout=e.pingTimeout,this.pingTimeoutDisabled=!!e.pingTimeoutDisabled;let i=Math.pow(2,31)-1,u=t=>{if(this[t]>i)throw new d(`The ${t} value provided exceeded the maximum amount allowed`)};if(u("connectTimeout"),u("ackTimeout"),u("pingTimeout"),this.connectAttempts=0,this.isBatching=!1,this.batchOnHandshake=e.batchOnHandshake,this.batchOnHandshakeDuration=e.batchOnHandshakeDuration,this._batchingIntervalId=null,this._outboundBuffer=new c,this._channelMap={},this._channelEventDemux=new r,this._channelDataDemux=new r,this._receiverDemux=new r,this._procedureDemux=new r,this.options=e,this._cid=1,this.options.callIdGenerator=()=>this._cid++,this.options.autoReconnect){null==this.options.autoReconnectOptions&&(this.options.autoReconnectOptions={});let t=this.options.autoReconnectOptions;null==t.initialDelay&&(t.initialDelay=1e4),null==t.randomness&&(t.randomness=1e4),null==t.multiplier&&(t.multiplier=1.5),null==t.maxDelay&&(t.maxDelay=6e4)}if(null==this.options.subscriptionRetryOptions&&(this.options.subscriptionRetryOptions={}),this.options.authEngine?this.auth=this.options.authEngine:this.auth=new s,this.options.codecEngine?this.codec=this.options.codecEngine:this.codec=a,this.options.protocol){let t=new d('The "protocol" option does not affect socketcluster-client - If you want to utilize SSL/TLS, use "secure" option instead');this._onError(t)}if(this.options.query=e.query||{},"string"==typeof this.options.query){let t=new URLSearchParams(this.options.query),e={};for(let[n,r]of t.entries()){let t=e[n];null==t?e[n]=r:(Array.isArray(t)||(e[n]=[t]),e[n].push(r))}this.options.query=e}b&&this.disconnectOnUnload&&n.g.addEventListener&&n.g.removeEventListener&&this._handleBrowserUnload(),this.options.autoConnect&&this.connect()}w.prototype=Object.create(o.prototype),w.CONNECTING=w.prototype.CONNECTING=u.prototype.CONNECTING,w.OPEN=w.prototype.OPEN=u.prototype.OPEN,w.CLOSED=w.prototype.CLOSED=u.prototype.CLOSED,w.AUTHENTICATED=w.prototype.AUTHENTICATED="authenticated",w.UNAUTHENTICATED=w.prototype.UNAUTHENTICATED="unauthenticated",w.SUBSCRIBED=w.prototype.SUBSCRIBED=i.SUBSCRIBED,w.PENDING=w.prototype.PENDING=i.PENDING,w.UNSUBSCRIBED=w.prototype.UNSUBSCRIBED=i.UNSUBSCRIBED,w.ignoreStatuses=f.socketProtocolIgnoreStatuses,w.errorStatuses=f.socketProtocolErrorStatuses,Object.defineProperty(w.prototype,"isBufferingBatch",{get:function(){return this.transport.isBufferingBatch}}),w.prototype.getBackpressure=function(){return Math.max(this.getAllListenersBackpressure(),this.getAllReceiversBackpressure(),this.getAllProceduresBackpressure(),this.getAllChannelsBackpressure())},w.prototype._handleBrowserUnload=async function(){let t=()=>{this.disconnect()},e=!1;(async()=>{let r=this.listener("connecting").createConsumer();for(;!(await r.next()).done;)e||(e=!0,n.g.addEventListener("beforeunload",t,!1))})(),(async()=>{let r=this.listener("close").createConsumer();for(;!(await r.next()).done;)e&&(e=!1,n.g.removeEventListener("beforeunload",t,!1))})()},w.prototype._setAuthToken=function(t){this._changeToAuthenticatedState(t.token),(async()=>{try{await this.auth.saveToken(this.authTokenName,t.token,{})}catch(t){this._onError(t)}})()},w.prototype._removeAuthToken=function(t){(async()=>{let t;try{t=await this.auth.removeToken(this.authTokenName)}catch(t){return void this._onError(t)}this.emit("removeAuthToken",{oldAuthToken:t})})(),this._changeToUnauthenticatedStateAndClearTokens()},w.prototype._privateDataHandlerMap={"#publish":function(t){let e=this._undecorateChannelName(t.channel);this.isSubscribed(e,!0)&&this._channelDataDemux.write(e,t.data)},"#kickOut":function(t){let e=this._undecorateChannelName(t.channel),n=this._channelMap[e];n&&(this.emit("kickOut",{channel:e,message:t.message}),this._channelEventDemux.write(`${e}/kickOut`,{message:t.message}),this._triggerChannelUnsubscribe(n))},"#setAuthToken":function(t){t&&this._setAuthToken(t)},"#removeAuthToken":function(t){this._removeAuthToken(t)}},w.prototype._privateRPCHandlerMap={"#setAuthToken":function(t,e){t?(this._setAuthToken(t),e.end()):e.error(new m("No token data provided by #setAuthToken event"))},"#removeAuthToken":function(t,e){this._removeAuthToken(t),e.end()}},w.prototype.getState=function(){return this.state},w.prototype.getBytesReceived=function(){return this.transport.getBytesReceived()},w.prototype.deauthenticate=async function(){(async()=>{let t;try{t=await this.auth.removeToken(this.authTokenName)}catch(t){return void this._onError(t)}this.emit("removeAuthToken",{oldAuthToken:t})})(),this.state!==this.CLOSED&&this.transmit("#removeAuthToken"),this._changeToUnauthenticatedStateAndClearTokens(),await p(0)},w.prototype.connect=function(){if(this.state===this.CLOSED){this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef),this.state=this.CONNECTING,this.emit("connecting",{}),this.transport&&this.transport.clearAllListeners();let t={onOpen:t=>{this.state=this.OPEN,this._onOpen(t)},onOpenAbort:t=>{this.state!==this.CLOSED&&(this.state=this.CLOSED,this._destroy(t.code,t.reason,!0))},onClose:t=>{this.state!==this.CLOSED&&(this.state=this.CLOSED,this._destroy(t.code,t.reason))},onEvent:t=>{this.emit(t.event,t.data)},onError:t=>{this._onError(t.error)},onInboundInvoke:t=>{this._onInboundInvoke(t)},onInboundTransmit:t=>{this._onInboundTransmit(t.event,t.data)}};this.transport=new u(this.auth,this.codec,this.options,this.wsOptions,t)}},w.prototype.reconnect=function(t,e){this.disconnect(t,e),this.connect()},w.prototype.disconnect=function(t,e){if("number"!=typeof(t=t||1e3))throw new d("If specified, the code argument must be a number");let n=this.state===this.CONNECTING;n||this.state===this.OPEN?(this.state=this.CLOSED,this._destroy(t,e,n),this.transport.close(t,e)):(this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef))},w.prototype._changeToUnauthenticatedStateAndClearTokens=function(){if(this.authState!==this.UNAUTHENTICATED){let t=this.authState,e=this.authToken,n=this.signedAuthToken;this.authState=this.UNAUTHENTICATED,this.signedAuthToken=null,this.authToken=null;let r={oldAuthState:t,newAuthState:this.authState};this.emit("authStateChange",r),this.emit("deauthenticate",{oldSignedAuthToken:n,oldAuthToken:e})}},w.prototype._changeToAuthenticatedState=function(t){if(this.signedAuthToken=t,this.authToken=this._extractAuthTokenData(t),this.authState!==this.AUTHENTICATED){let e=this.authState;this.authState=this.AUTHENTICATED;let n={oldAuthState:e,newAuthState:this.authState,signedAuthToken:t,authToken:this.authToken};this.preparingPendingSubscriptions||this.processPendingSubscriptions(),this.emit("authStateChange",n)}this.emit("authenticate",{signedAuthToken:t,authToken:this.authToken})},w.prototype.decodeBase64=function(t){return l.from(t,"base64").toString("utf8")},w.prototype.encodeBase64=function(t){return l.from(t,"utf8").toString("base64")},w.prototype._extractAuthTokenData=function(t){let e=(t||"").split(".")[1];if(null!=e){let t=e;try{return t=this.decodeBase64(t),JSON.parse(t)}catch(e){return t}}return null},w.prototype.getAuthToken=function(){return this.authToken},w.prototype.getSignedAuthToken=function(){return this.signedAuthToken},w.prototype.authenticate=async function(t){let e;try{e=await this.invoke("#authenticate",t)}catch(t){throw"BadConnectionError"!==t.name&&"TimeoutError"!==t.name&&this._changeToUnauthenticatedStateAndClearTokens(),await p(0),t}return e&&null!=e.isAuthenticated?e.authError&&(e.authError=f.hydrateError(e.authError)):e={isAuthenticated:this.authState,authError:null},e.isAuthenticated?this._changeToAuthenticatedState(t):this._changeToUnauthenticatedStateAndClearTokens(),(async()=>{try{await this.auth.saveToken(this.authTokenName,t,{})}catch(t){this._onError(t)}})(),await p(0),e},w.prototype._tryReconnect=function(t){let e,n=this.connectAttempts++,r=this.options.autoReconnectOptions;if(null==t||n>0){let t=Math.round(r.initialDelay+(r.randomness||0)*Math.random());e=Math.round(t*Math.pow(r.multiplier,n))}else e=t;e>r.maxDelay&&(e=r.maxDelay),clearTimeout(this._reconnectTimeoutRef),this.pendingReconnect=!0,this.pendingReconnectTimeout=e,this._reconnectTimeoutRef=setTimeout((()=>{this.connect()}),e)},w.prototype._onOpen=function(t){this.isBatching?this._startBatching():this.batchOnHandshake&&(this._startBatching(),setTimeout((()=>{this.isBatching||this._stopBatching()}),this.batchOnHandshakeDuration)),this.preparingPendingSubscriptions=!0,t?(this.id=t.id,this.pingTimeout=t.pingTimeout,t.isAuthenticated?this._changeToAuthenticatedState(t.authToken):this._changeToUnauthenticatedStateAndClearTokens()):this._changeToUnauthenticatedStateAndClearTokens(),this.connectAttempts=0,this.options.autoSubscribeOnConnect&&this.processPendingSubscriptions(),this.emit("connect",{...t,processPendingSubscriptions:()=>{this.processPendingSubscriptions()}}),this.state===this.OPEN&&this._flushOutboundBuffer()},w.prototype._onError=function(t){this.emit("error",{error:t})},w.prototype._suspendSubscriptions=function(){Object.keys(this._channelMap).forEach((t=>{let e=this._channelMap[t];this._triggerChannelUnsubscribe(e,!0)}))},w.prototype._abortAllPendingEventsDueToBadConnection=function(t){let e,n=this._outboundBuffer.head;for(;n;){e=n.next;let r=n.data;clearTimeout(r.timeout),delete r.timeout,n.detach(),n=e;let o=r.callback;if(o){delete r.callback;let e=`Event "${r.event}" was aborted due to a bad connection`,n=new v(e,t);o.call(r,n,r)}r.cid&&this.transport.cancelPendingResponse(r.cid)}},w.prototype._destroy=function(t,e,n){if(this.id=null,this._cancelBatching(),this.transport&&this.transport.clearAllListeners(),this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef),this._suspendSubscriptions(),n?this.emit("connectAbort",{code:t,reason:e}):this.emit("disconnect",{code:t,reason:e}),this.emit("close",{code:t,reason:e}),!w.ignoreStatuses[t]){let n;n=e?"Socket connection closed with status code "+t+" and reason: "+e:"Socket connection closed with status code "+t;let r=new y(w.errorStatuses[t]||n,t);this._onError(r)}this._abortAllPendingEventsDueToBadConnection(n?"connectAbort":"disconnect"),this.options.autoReconnect&&(4e3===t||4001===t||1005===t?this._tryReconnect(0):1e3!==t&&t<4500&&this._tryReconnect())},w.prototype._onInboundTransmit=function(t,e){let n=this._privateDataHandlerMap[t];n?n.call(this,e):this._receiverDemux.write(t,e)},w.prototype._onInboundInvoke=function(t){let{procedure:e,data:n}=t,r=this._privateRPCHandlerMap[e];r?r.call(this,n,t):this._procedureDemux.write(e,t)},w.prototype.decode=function(t){return this.transport.decode(t)},w.prototype.encode=function(t){return this.transport.encode(t)},w.prototype._flushOutboundBuffer=function(){let t,e=this._outboundBuffer.head;for(;e;){t=e.next;let n=e.data;e.detach(),this.transport.transmitObject(n),e=t}},w.prototype._handleEventAckTimeout=function(t,e){e&&e.detach(),delete t.timeout;let n=t.callback;if(n){delete t.callback;let e=new g(`Event response for "${t.event}" timed out`);n.call(t,e,t)}t.cid&&this.transport.cancelPendingResponse(t.cid)},w.prototype._processOutboundEvent=function(t,e,n,r){n=n||{},this.state===this.CLOSED&&this.connect();let o,i={event:t};o=r?new Promise(((t,e)=>{i.callback=(n,r)=>{n?e(n):t(r)}})):Promise.resolve();let s=new c.Item;this.options.cloneData?i.data=h(e):i.data=e,s.data=i;let a=null==n.ackTimeout?this.ackTimeout:n.ackTimeout;return i.timeout=setTimeout((()=>{this._handleEventAckTimeout(i,s)}),a),this._outboundBuffer.append(s),this.state===this.OPEN&&this._flushOutboundBuffer(),o},w.prototype.send=function(t){this.transport.send(t)},w.prototype.transmit=function(t,e,n){return this._processOutboundEvent(t,e,n)},w.prototype.invoke=function(t,e,n){return this._processOutboundEvent(t,e,n,!0)},w.prototype.transmitPublish=function(t,e){let n={channel:this._decorateChannelName(t),data:e};return this.transmit("#publish",n)},w.prototype.invokePublish=function(t,e){let n={channel:this._decorateChannelName(t),data:e};return this.invoke("#publish",n)},w.prototype._triggerChannelSubscribe=function(t,e){let n=t.name;if(t.state!==i.SUBSCRIBED){let r=t.state;t.state=i.SUBSCRIBED;let o={oldChannelState:r,newChannelState:t.state,subscriptionOptions:e};this._channelEventDemux.write(`${n}/subscribeStateChange`,o),this._channelEventDemux.write(`${n}/subscribe`,{subscriptionOptions:e}),this.emit("subscribeStateChange",{channel:n,...o}),this.emit("subscribe",{channel:n,subscriptionOptions:e})}},w.prototype._triggerChannelSubscribeFail=function(t,e,n){let r=e.name,o=!e.options.waitForAuth||this.authState===this.AUTHENTICATED;this._channelMap[r]&&o&&(delete this._channelMap[r],this._channelEventDemux.write(`${r}/subscribeFail`,{error:t,subscriptionOptions:n}),this.emit("subscribeFail",{error:t,channel:r,subscriptionOptions:n}))},w.prototype._cancelPendingSubscribeCallback=function(t){null!=t._pendingSubscriptionCid&&(this.transport.cancelPendingResponse(t._pendingSubscriptionCid),delete t._pendingSubscriptionCid)},w.prototype._decorateChannelName=function(t){return this.channelPrefix&&(t=this.channelPrefix+t),t},w.prototype._undecorateChannelName=function(t){return this.channelPrefix&&0===t.indexOf(this.channelPrefix)?t.replace(this.channelPrefix,""):t},w.prototype.startBatch=function(){this.transport.startBatch()},w.prototype.flushBatch=function(){this.transport.flushBatch()},w.prototype.cancelBatch=function(){this.transport.cancelBatch()},w.prototype._startBatching=function(){null==this._batchingIntervalId&&(this.startBatch(),this._batchingIntervalId=setInterval((()=>{this.flushBatch(),this.startBatch()}),this.options.batchInterval))},w.prototype.startBatching=function(){this.isBatching=!0,this._startBatching()},w.prototype._stopBatching=function(){null!=this._batchingIntervalId&&clearInterval(this._batchingIntervalId),this._batchingIntervalId=null,this.flushBatch()},w.prototype.stopBatching=function(){this.isBatching=!1,this._stopBatching()},w.prototype._cancelBatching=function(){null!=this._batchingIntervalId&&clearInterval(this._batchingIntervalId),this._batchingIntervalId=null,this.cancelBatch()},w.prototype.cancelBatching=function(){this.isBatching=!1,this._cancelBatching()},w.prototype._trySubscribe=function(t){let e=!t.options.waitForAuth||this.authState===this.AUTHENTICATED;if(this.state===this.OPEN&&!this.preparingPendingSubscriptions&&null==t._pendingSubscriptionCid&&e){let e={noTimeout:!0},n={};t.options.waitForAuth&&(e.waitForAuth=!0,n.waitForAuth=e.waitForAuth),t.options.data&&(n.data=t.options.data),t._pendingSubscriptionCid=this.transport.invokeRaw("#subscribe",{channel:this._decorateChannelName(t.name),...n},e,(e=>{if(e){if("BadConnectionError"===e.name)return;delete t._pendingSubscriptionCid,this._triggerChannelSubscribeFail(e,t,n)}else delete t._pendingSubscriptionCid,this._triggerChannelSubscribe(t,n)})),this.emit("subscribeRequest",{channel:t.name,subscriptionOptions:n})}},w.prototype.subscribe=function(t,e){e=e||{};let n=this._channelMap[t],r={waitForAuth:!!e.waitForAuth};return null!=e.priority&&(r.priority=e.priority),void 0!==e.data&&(r.data=e.data),n?e&&(n.options=r):(n={name:t,state:i.PENDING,options:r},this._channelMap[t]=n,this._trySubscribe(n)),new i(t,this,this._channelEventDemux,this._channelDataDemux)},w.prototype._triggerChannelUnsubscribe=function(t,e){let n=t.name;if(this._cancelPendingSubscribeCallback(t),t.state===i.SUBSCRIBED){let r={oldChannelState:t.state,newChannelState:e?i.PENDING:i.UNSUBSCRIBED};this._channelEventDemux.write(`${n}/subscribeStateChange`,r),this._channelEventDemux.write(`${n}/unsubscribe`,{}),this.emit("subscribeStateChange",{channel:n,...r}),this.emit("unsubscribe",{channel:n})}e?t.state=i.PENDING:delete this._channelMap[n]},w.prototype._tryUnsubscribe=function(t){if(this.state===this.OPEN){let e={noTimeout:!0};this._cancelPendingSubscribeCallback(t);let n=this._decorateChannelName(t.name);this.transport.transmit("#unsubscribe",n,e)}},w.prototype.unsubscribe=function(t){let e=this._channelMap[t];e&&(this._triggerChannelUnsubscribe(e),this._tryUnsubscribe(e))},w.prototype.receiver=function(t){return this._receiverDemux.stream(t)},w.prototype.closeReceiver=function(t){this._receiverDemux.close(t)},w.prototype.closeAllReceivers=function(){this._receiverDemux.closeAll()},w.prototype.killReceiver=function(t){this._receiverDemux.kill(t)},w.prototype.killAllReceivers=function(){this._receiverDemux.killAll()},w.prototype.killReceiverConsumer=function(t){this._receiverDemux.killConsumer(t)},w.prototype.getReceiverConsumerStats=function(t){return this._receiverDemux.getConsumerStats(t)},w.prototype.getReceiverConsumerStatsList=function(t){return this._receiverDemux.getConsumerStatsList(t)},w.prototype.getAllReceiversConsumerStatsList=function(){return this._receiverDemux.getConsumerStatsListAll()},w.prototype.getReceiverBackpressure=function(t){return this._receiverDemux.getBackpressure(t)},w.prototype.getAllReceiversBackpressure=function(){return this._receiverDemux.getBackpressureAll()},w.prototype.getReceiverConsumerBackpressure=function(t){return this._receiverDemux.getConsumerBackpressure(t)},w.prototype.hasReceiverConsumer=function(t,e){return this._receiverDemux.hasConsumer(t,e)},w.prototype.hasAnyReceiverConsumer=function(t){return this._receiverDemux.hasConsumerAll(t)},w.prototype.procedure=function(t){return this._procedureDemux.stream(t)},w.prototype.closeProcedure=function(t){this._procedureDemux.close(t)},w.prototype.closeAllProcedures=function(){this._procedureDemux.closeAll()},w.prototype.killProcedure=function(t){this._procedureDemux.kill(t)},w.prototype.killAllProcedures=function(){this._procedureDemux.killAll()},w.prototype.killProcedureConsumer=function(t){this._procedureDemux.killConsumer(t)},w.prototype.getProcedureConsumerStats=function(t){return this._procedureDemux.getConsumerStats(t)},w.prototype.getProcedureConsumerStatsList=function(t){return this._procedureDemux.getConsumerStatsList(t)},w.prototype.getAllProceduresConsumerStatsList=function(){return this._procedureDemux.getConsumerStatsListAll()},w.prototype.getProcedureBackpressure=function(t){return this._procedureDemux.getBackpressure(t)},w.prototype.getAllProceduresBackpressure=function(){return this._procedureDemux.getBackpressureAll()},w.prototype.getProcedureConsumerBackpressure=function(t){return this._procedureDemux.getConsumerBackpressure(t)},w.prototype.hasProcedureConsumer=function(t,e){return this._procedureDemux.hasConsumer(t,e)},w.prototype.hasAnyProcedureConsumer=function(t){return this._procedureDemux.hasConsumerAll(t)},w.prototype.channel=function(t){return this._channelMap[t],new i(t,this,this._channelEventDemux,this._channelDataDemux)},w.prototype.closeChannel=function(t){this.channelCloseOutput(t),this.channelCloseAllListeners(t)},w.prototype.closeAllChannelOutputs=function(){this._channelDataDemux.closeAll()},w.prototype.closeAllChannelListeners=function(){this._channelEventDemux.closeAll()},w.prototype.closeAllChannels=function(){this.closeAllChannelOutputs(),this.closeAllChannelListeners()},w.prototype.killChannel=function(t){this.channelKillOutput(t),this.channelKillAllListeners(t)},w.prototype.killAllChannelOutputs=function(){this._channelDataDemux.killAll()},w.prototype.killAllChannelListeners=function(){this._channelEventDemux.killAll()},w.prototype.killAllChannels=function(){this.killAllChannelOutputs(),this.killAllChannelListeners()},w.prototype.killChannelOutputConsumer=function(t){this._channelDataDemux.killConsumer(t)},w.prototype.killChannelListenerConsumer=function(t){this._channelEventDemux.killConsumer(t)},w.prototype.getChannelOutputConsumerStats=function(t){return this._channelDataDemux.getConsumerStats(t)},w.prototype.getChannelListenerConsumerStats=function(t){return this._channelEventDemux.getConsumerStats(t)},w.prototype.getAllChannelOutputsConsumerStatsList=function(){return this._channelDataDemux.getConsumerStatsListAll()},w.prototype.getAllChannelListenersConsumerStatsList=function(){return this._channelEventDemux.getConsumerStatsListAll()},w.prototype.getChannelBackpressure=function(t){return Math.max(this.channelGetOutputBackpressure(t),this.channelGetAllListenersBackpressure(t))},w.prototype.getAllChannelOutputsBackpressure=function(){return this._channelDataDemux.getBackpressureAll()},w.prototype.getAllChannelListenersBackpressure=function(){return this._channelEventDemux.getBackpressureAll()},w.prototype.getAllChannelsBackpressure=function(){return Math.max(this.getAllChannelOutputsBackpressure(),this.getAllChannelListenersBackpressure())},w.prototype.getChannelListenerConsumerBackpressure=function(t){return this._channelEventDemux.getConsumerBackpressure(t)},w.prototype.getChannelOutputConsumerBackpressure=function(t){return this._channelDataDemux.getConsumerBackpressure(t)},w.prototype.hasAnyChannelOutputConsumer=function(t){return this._channelDataDemux.hasConsumerAll(t)},w.prototype.hasAnyChannelListenerConsumer=function(t){return this._channelEventDemux.hasConsumerAll(t)},w.prototype.getChannelState=function(t){let e=this._channelMap[t];return e?e.state:i.UNSUBSCRIBED},w.prototype.getChannelOptions=function(t){let e=this._channelMap[t];return e?{...e.options}:{}},w.prototype._getAllChannelStreamNames=function(t){let e=this._channelEventDemux.getConsumerStatsListAll().filter((e=>0===e.stream.indexOf(`${t}/`))).reduce(((t,e)=>(t[e.stream]=!0,t)),{});return Object.keys(e)},w.prototype.channelCloseOutput=function(t){this._channelDataDemux.close(t)},w.prototype.channelCloseListener=function(t,e){this._channelEventDemux.close(`${t}/${e}`)},w.prototype.channelCloseAllListeners=function(t){this._getAllChannelStreamNames(t).forEach((t=>{this._channelEventDemux.close(t)}))},w.prototype.channelKillOutput=function(t){this._channelDataDemux.kill(t)},w.prototype.channelKillListener=function(t,e){this._channelEventDemux.kill(`${t}/${e}`)},w.prototype.channelKillAllListeners=function(t){this._getAllChannelStreamNames(t).forEach((t=>{this._channelEventDemux.kill(t)}))},w.prototype.channelGetOutputConsumerStatsList=function(t){return this._channelDataDemux.getConsumerStatsList(t)},w.prototype.channelGetListenerConsumerStatsList=function(t,e){return this._channelEventDemux.getConsumerStatsList(`${t}/${e}`)},w.prototype.channelGetAllListenersConsumerStatsList=function(t){return this._getAllChannelStreamNames(t).map((t=>this._channelEventDemux.getConsumerStatsList(t))).reduce(((t,e)=>(e.forEach((e=>{t.push(e)})),t)),[])},w.prototype.channelGetOutputBackpressure=function(t){return this._channelDataDemux.getBackpressure(t)},w.prototype.channelGetListenerBackpressure=function(t,e){return this._channelEventDemux.getBackpressure(`${t}/${e}`)},w.prototype.channelGetAllListenersBackpressure=function(t){let e=this._getAllChannelStreamNames(t).map((t=>this._channelEventDemux.getBackpressure(t)));return Math.max(...e.concat(0))},w.prototype.channelHasOutputConsumer=function(t,e){return this._channelDataDemux.hasConsumer(t,e)},w.prototype.channelHasListenerConsumer=function(t,e,n){return this._channelEventDemux.hasConsumer(`${t}/${e}`,n)},w.prototype.channelHasAnyListenerConsumer=function(t,e){return this._getAllChannelStreamNames(t).some((t=>this._channelEventDemux.hasConsumer(t,e)))},w.prototype.subscriptions=function(t){let e=[];return Object.keys(this._channelMap).forEach((n=>{(t||this._channelMap[n].state===i.SUBSCRIBED)&&e.push(n)})),e},w.prototype.isSubscribed=function(t,e){let n=this._channelMap[t];return e?!!n:!!n&&n.state===i.SUBSCRIBED},w.prototype.processPendingSubscriptions=function(){this.preparingPendingSubscriptions=!1;let t=[];Object.keys(this._channelMap).forEach((e=>{let n=this._channelMap[e];n.state===i.PENDING&&t.push(n)})),t.sort(((t,e)=>{let n=t.options.priority||0,r=e.options.priority||0;return n>r?-1:n<r?1:0})),t.forEach((t=>{this._trySubscribe(t)}))},t.exports=w},1116:(t,e,n)=>{const r=n(7955),o=n(1614),i=n(4375).InvalidArgumentsError;function s(t,e){let r=null==t.secure?e:t.secure;return t.port||(n.g.location&&location.port?location.port:r?443:80)}t.exports={create:function(t){if((t=t||{}).host&&!t.host.match(/[^:]+:\d{2,5}/))throw new i('The host option should include both the hostname and the port number in the format "hostname:port"');if(t.host&&t.hostname)throw new i('The host option should already include the hostname and the port number in the format "hostname:port" - Because of this, you should never use host and hostname options together');if(t.host&&t.port)throw new i('The host option should already include the hostname and the port number in the format "hostname:port" - Because of this, you should never use host and port options together');let e=n.g.location&&"https:"===location.protocol,a={clientId:o.v4(),port:s(t,e),hostname:n.g.location&&location.hostname||"localhost",secure:e};return Object.assign(a,t),new r(a)}}},202:(t,e,n)=>{const r=n(3282);let o,i;n.g.WebSocket?(o=n.g.WebSocket,i=function(t,e){return new o(t)}):(o=n(5560),i=function(t,e){return new o(t,[],e)});const s=n(4375),a=s.TimeoutError,u=s.BadConnectionError;function c(t,e,n,r,o){this.state=this.CLOSED,this.auth=t,this.codec=e,this.options=n,this.wsOptions=r,this.protocolVersion=n.protocolVersion,this.connectTimeout=n.connectTimeout,this.pingTimeout=n.pingTimeout,this.pingTimeoutDisabled=!!n.pingTimeoutDisabled,this.callIdGenerator=n.callIdGenerator,this.authTokenName=n.authTokenName,this.isBufferingBatch=!1,this._pingTimeoutTicker=null,this._callbackMap={},this._batchBuffer=[],o||(o={}),this._onOpenHandler=o.onOpen||function(){},this._onOpenAbortHandler=o.onOpenAbort||function(){},this._onCloseHandler=o.onClose||function(){},this._onEventHandler=o.onEvent||function(){},this._onErrorHandler=o.onError||function(){},this._onInboundInvokeHandler=o.onInboundInvoke||function(){},this._onInboundTransmitHandler=o.onInboundTransmit||function(){},this.state=this.CONNECTING;let s=this.uri(),a=i(s,r);a.binaryType=this.options.binaryType,this.socket=a,a.onopen=()=>{this._onOpen()},a.onclose=async t=>{let e;e=null==t.code?1005:t.code,this._destroy(e,t.reason)},a.onmessage=(t,e)=>{this._onMessage(t.data)},a.onerror=t=>{this.state===this.CONNECTING&&this._destroy(1006)},this._connectTimeoutRef=setTimeout((()=>{this._destroy(4007),this.socket.close(4007)}),this.connectTimeout),1===this.protocolVersion?this._handlePing=t=>"#1"===t&&(this._resetPingTimeout(),this.socket.readyState===this.socket.OPEN&&this.send("#2"),!0):this._handlePing=t=>""===t&&(this._resetPingTimeout(),this.socket.readyState===this.socket.OPEN&&this.send(""),!0)}c.CONNECTING=c.prototype.CONNECTING="connecting",c.OPEN=c.prototype.OPEN="open",c.CLOSED=c.prototype.CLOSED="closed",c.prototype.uri=function(){let t,e=this.options.query||{};t=null==this.options.protocolScheme?this.options.secure?"wss":"ws":this.options.protocolScheme,this.options.timestampRequests&&(e[this.options.timestampParam]=(new Date).getTime());let n,r,o=new URLSearchParams;for(let[t,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)o.append(t,e);else o.set(t,n);if(e=o.toString(),e.length&&(e="?"+e),null==this.options.socketPath){if(this.options.host)n=this.options.host;else{let e="";this.options.port&&("wss"===t&&443!==this.options.port||"ws"===t&&80!==this.options.port)&&(e=":"+this.options.port),n=this.options.hostname+e}r=this.options.path}else n=this.options.socketPath,r=`:${this.options.path}`;return t+"://"+n+r+e},c.prototype._onOpen=async function(){let t;clearTimeout(this._connectTimeoutRef),this._resetPingTimeout();try{t=await this._handshake()}catch(t){return null==t.statusCode&&(t.statusCode=4003),this._onError(t),this._destroy(t.statusCode,t.toString()),void this.socket.close(t.statusCode)}this.state=this.OPEN,t&&(this.pingTimeout=t.pingTimeout),this._resetPingTimeout(),this._onOpenHandler(t)},c.prototype._handshake=async function(){let t=await this.auth.loadToken(this.authTokenName),e=await this.invoke("#handshake",{authToken:t},{force:!0});return e&&(e.authToken=t,e.authError&&(e.authError=s.hydrateError(e.authError))),e},c.prototype._abortAllPendingEventsDueToBadConnection=function(t){Object.keys(this._callbackMap||{}).forEach((e=>{let n=this._callbackMap[e];delete this._callbackMap[e],clearTimeout(n.timeout),delete n.timeout;let r=`Event "${n.event}" was aborted due to a bad connection`,o=new u(r,t),i=n.callback;i&&(delete n.callback,i.call(n,o,n))}))},c.prototype._destroy=function(t,e){s.socketProtocolErrorStatuses[t],!e&&s.socketProtocolErrorStatuses[t]&&(e=s.socketProtocolErrorStatuses[t]),delete this.socket.onopen,delete this.socket.onclose,delete this.socket.onmessage,delete this.socket.onerror,clearTimeout(this._connectTimeoutRef),clearTimeout(this._pingTimeoutTicker),this.state===this.OPEN?(this.state=this.CLOSED,this._abortAllPendingEventsDueToBadConnection("disconnect"),this._onCloseHandler({code:t,reason:e})):this.state===this.CONNECTING?(this.state=this.CLOSED,this._abortAllPendingEventsDueToBadConnection("connectAbort"),this._onOpenAbortHandler({code:t,reason:e})):this.state===this.CLOSED&&this._abortAllPendingEventsDueToBadConnection("connectAbort")},c.prototype._processInboundPacket=function(t,e){if(t&&null!=t.event)if(null==t.cid)this._onInboundTransmitHandler({...t});else{let e=new r(this,t.cid,t.event,t.data);this._onInboundInvokeHandler(e)}else if(t&&null!=t.rid){let e=this._callbackMap[t.rid];if(e&&(clearTimeout(e.timeout),delete e.timeout,delete this._callbackMap[t.rid],e.callback)){let n=s.hydrateError(t.error);e.callback(n,t.data)}}else this._onEventHandler({event:"raw",data:{message:e}})},c.prototype._onMessage=function(t){if(this._onEventHandler({event:"message",data:{message:t}}),this._handlePing(t))return;let e=this.decode(t);if(Array.isArray(e)){let n=e.length;for(let r=0;r<n;r++)this._processInboundPacket(e[r],t)}else this._processInboundPacket(e,t)},c.prototype._onError=function(t){this._onErrorHandler({error:t})},c.prototype._resetPingTimeout=function(){this.pingTimeoutDisabled||((new Date).getTime(),clearTimeout(this._pingTimeoutTicker),this._pingTimeoutTicker=setTimeout((()=>{this._destroy(4e3),this.socket.close(4e3)}),this.pingTimeout))},c.prototype.clearAllListeners=function(){this._onOpenHandler=function(){},this._onOpenAbortHandler=function(){},this._onCloseHandler=function(){},this._onEventHandler=function(){},this._onErrorHandler=function(){},this._onInboundInvokeHandler=function(){},this._onInboundTransmitHandler=function(){}},c.prototype.startBatch=function(){this.isBufferingBatch=!0,this._batchBuffer=[]},c.prototype.flushBatch=function(){if(this.isBufferingBatch=!1,!this._batchBuffer.length)return;let t=this.serializeObject(this._batchBuffer);this._batchBuffer=[],this.send(t)},c.prototype.cancelBatch=function(){this.isBufferingBatch=!1,this._batchBuffer=[]},c.prototype.getBytesReceived=function(){return this.socket.bytesReceived},c.prototype.close=function(t,e){this.state!==this.OPEN&&this.state!==this.CONNECTING||(t=t||1e3,this._destroy(t,e),this.socket.close(t,e))},c.prototype.transmitObject=function(t){let e={event:t.event,data:t.data};return t.callback&&(e.cid=t.cid=this.callIdGenerator(),this._callbackMap[t.cid]=t),this.sendObject(e),t.cid||null},c.prototype._handleEventAckTimeout=function(t){t.cid&&delete this._callbackMap[t.cid],delete t.timeout;let e=t.callback;if(e){delete t.callback;let n=new a(`Event response for "${t.event}" timed out`);e.call(t,n,t)}},c.prototype.transmit=function(t,e,n){let r={event:t,data:e};return(this.state===this.OPEN||n.force)&&this.transmitObject(r),Promise.resolve()},c.prototype.invokeRaw=function(t,e,n,r){let o={event:t,data:e,callback:r};n.noTimeout||(o.timeout=setTimeout((()=>{this._handleEventAckTimeout(o)}),this.options.ackTimeout));let i=null;return(this.state===this.OPEN||n.force)&&(i=this.transmitObject(o)),i},c.prototype.invoke=function(t,e,n){return new Promise(((r,o)=>{this.invokeRaw(t,e,n,((t,e)=>{t?o(t):r(e)}))}))},c.prototype.cancelPendingResponse=function(t){delete this._callbackMap[t]},c.prototype.decode=function(t){return this.codec.decode(t)},c.prototype.encode=function(t){return this.codec.encode(t)},c.prototype.send=function(t){this.socket.readyState!==this.socket.OPEN?this._destroy(1005):this.socket.send(t)},c.prototype.serializeObject=function(t){let e;try{e=this.encode(t)}catch(t){return this._onError(t),null}return e},c.prototype.sendObject=function(t){if(this.isBufferingBatch)return void this._batchBuffer.push(t);let e=this.serializeObject(t);null!=e&&this.send(e)},t.exports=c},7931:t=>{t.exports=function(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}},5560:t=>{let e;e="undefined"!=typeof WorkerGlobalScope?self:"undefined"!=typeof window&&window||function(){return this}();const n=e.WebSocket||e.MozWebSocket;function r(t,e,r){let o;return o=e?new n(t,e):new n(t),o}n&&(r.prototype=n.prototype),t.exports=n?r:null},6631:(t,e,n)=>{const r=n(9051);function o(){this._listenerDemux=new r}o.prototype.emit=function(t,e){this._listenerDemux.write(t,e)},o.prototype.listener=function(t){return this._listenerDemux.stream(t)},o.prototype.closeListener=function(t){this._listenerDemux.close(t)},o.prototype.closeAllListeners=function(){this._listenerDemux.closeAll()},o.prototype.getListenerConsumerStats=function(t){return this._listenerDemux.getConsumerStats(t)},o.prototype.getListenerConsumerStatsList=function(t){return this._listenerDemux.getConsumerStatsList(t)},o.prototype.getAllListenersConsumerStatsList=function(){return this._listenerDemux.getConsumerStatsListAll()},o.prototype.getListenerConsumerCount=function(t){return this._listenerDemux.getConsumerCount(t)},o.prototype.getAllListenersConsumerCount=function(){return this._listenerDemux.getConsumerCountAll()},o.prototype.killListener=function(t){this._listenerDemux.kill(t)},o.prototype.killAllListeners=function(){this._listenerDemux.killAll()},o.prototype.killListenerConsumer=function(t){this._listenerDemux.killConsumer(t)},o.prototype.getListenerBackpressure=function(t){return this._listenerDemux.getBackpressure(t)},o.prototype.getAllListenersBackpressure=function(){return this._listenerDemux.getBackpressureAll()},o.prototype.getListenerConsumerBackpressure=function(t){return this._listenerDemux.getConsumerBackpressure(t)},o.prototype.hasListenerConsumer=function(t,e){return this._listenerDemux.hasConsumer(t,e)},o.prototype.hasAnyListenerConsumer=function(t){return this._listenerDemux.hasConsumerAll(t)},t.exports=o},2332:(t,e,n)=>{const r=n(3413);t.exports=class extends r{constructor(t,e){super(),this.name=e,this._streamDemux=t}createConsumer(t){return this._streamDemux.createConsumer(this.name,t)}}},9051:(t,e,n)=>{const r=n(3914),o=n(2332);t.exports=class{constructor(){this._mainStream=new r}write(t,e){this._mainStream.write({stream:t,data:{value:e,done:!1}})}close(t,e){this._mainStream.write({stream:t,data:{value:e,done:!0}})}closeAll(t){this._mainStream.close(t)}writeToConsumer(t,e){this._mainStream.writeToConsumer(t,{consumerId:t,data:{value:e,done:!1}})}closeConsumer(t,e){this._mainStream.closeConsumer(t,{consumerId:t,data:{value:e,done:!0}})}getConsumerStats(t){return this._mainStream.getConsumerStats(t)}getConsumerStatsList(t){return this._mainStream.getConsumerStatsList().filter((e=>e.stream===t))}getConsumerStatsListAll(){return this._mainStream.getConsumerStatsList()}kill(t,e){let n=this.getConsumerStatsList(t),r=n.length;for(let t=0;t<r;t++)this.killConsumer(n[t].id,e)}killAll(t){this._mainStream.kill(t)}killConsumer(t,e){this._mainStream.killConsumer(t,e)}getBackpressure(t){let e=this.getConsumerStatsList(t),n=e.length,r=0;for(let t=0;t<n;t++){let n=e[t];n.backpressure>r&&(r=n.backpressure)}return r}getBackpressureAll(){return this._mainStream.getBackpressure()}getConsumerBackpressure(t){return this._mainStream.getConsumerBackpressure(t)}hasConsumer(t,e){let n=this._mainStream.getConsumerStats(e);return!!n&&n.stream===t}hasConsumerAll(t){return this._mainStream.hasConsumer(t)}getConsumerCount(t){return this.getConsumerStatsList(t).length}getConsumerCountAll(){return this.getConsumerStatsListAll().length}createConsumer(t,e){let n=this._mainStream.createConsumer(e),r=n.next;n.next=async function(){for(;;){let e=await r.apply(this,arguments);if(e.value&&(e.value.stream===t||e.value.consumerId===this.id))return e.value.data.done&&this.return(),e.value.data;if(e.done)return e}};let o=n.getStats;n.getStats=function(){let e=o.apply(this,arguments);return e.stream=t,e};let i=n.applyBackpressure;n.applyBackpressure=function(e){!e.value||e.value.stream!==t&&e.value.consumerId!==this.id?e.done&&i.apply(this,arguments):i.apply(this,arguments)};let s=n.releaseBackpressure;return n.releaseBackpressure=function(e){!e.value||e.value.stream!==t&&e.value.consumerId!==this.id?e.done&&s.apply(this,arguments):s.apply(this,arguments)},n}stream(t){return new o(this,t)}}},2178:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0;var r=n(146),o=n(8977),i=n(1913),s=function(){function t(){this.options=r.OptionsManager.getInstance().get(),this.auth=o.Auth.getInstance(),this.handleAppId()}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.prototype.getId=function(){return this.id},t.prototype.setId=function(t){this.id=t},t.prototype.extractAndSetId=function(t){var e=t.split(".")[0];return this.setId(e),this.id},t.prototype.handleAppId=function(){if(void 0===this.getId()){var t=this.auth.getAuthMethod();if("Bearer"===t&&void 0!==this.options.authTokenName){var e=(0,i.getSignedAuthToken)(this.options.authTokenName),n=(0,i.getJwtPayload)(e);n&&this.extractAndSetId(n.sub)}else"Basic"===t&&void 0!==this.options.key&&this.extractAndSetId(this.options.key)}},t.prototype.destroy=function(){this.setId(void 0),t.instance=void 0},t}();e.App=s},8977:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Auth=void 0;var s=n(1913),a=n(4418),u=n(9383),c=n(2462),h=n(146),l=function(){function t(){this.ws=c.WebSocket.getInstance(),this.options=h.OptionsManager.getInstance().get(),this.http=new u.Http,this.client=this.http.getClient()}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.prototype.getAuthMethod=function(){return void 0!==this.options.authUrl&&this.options.authUrl?"Bearer":!(void 0===this.options.key||!this.options.key)&&"Basic"},t.prototype.getKeyOrToken=function(){if(!this.options.authTokenName)throw new Error("Auth token name can not be empty.");return this.options.authUrl?(0,s.getSignedAuthToken)(this.options.authTokenName):!!this.options.key&&this.getKeyBase64()},t.prototype.getKey=function(){if(this.options.key)return this.options.key;throw new Error("API key has not been specified.")},t.prototype.getKeyBase64=function(){return Buffer.from(this.getKey()).toString("base64")},t.prototype.makeAuthorizationHeader=function(){if(this.getAuthMethod()&&this.getKeyOrToken())return"".concat(this.getAuthMethod()," ").concat(this.getKeyOrToken());throw new Error("Auth method has not been specified.")},t.prototype.basicAuth=function(){var t=this.ws.getSocket(),e={};e.key=this.getKey(),t.invoke("#basicAuth",e)},t.prototype.authenticate=function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),o(this,void 0,void 0,(function(){var t,e,n;return i(this,(function(r){switch(r.label){case 0:return this.ws||(this.ws=c.WebSocket.getInstance()),t=this.ws.getSocket(),"Basic"!==(e=this.getAuthMethod())?[3,1]:(this.basicAuth(),[3,3]);case 1:return"Bearer"!==e?[3,3]:[4,this.requestToken()];case 2:n=r.sent(),t.authenticate(n.token),r.label=3;case 3:return[2]}}))}))},t.prototype.deauthenticate=function(){var t=this.ws.getSocket();this.requestRevoke(),t.deauthenticate()},t.prototype.requestToken=function(){return o(this,void 0,void 0,(function(){var t,e;return i(this,(function(n){switch(n.label){case 0:if(!this.options.authUrl||!this.options.authTokenName)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.client.post(this.options.authUrl,this.options.authBody,{headers:this.options.authHeaders})];case 2:return t=n.sent(),localStorage.setItem(this.options.authTokenName,t.data.data.token),[2,t.data.data];case 3:throw e=n.sent(),console.error("Error in requestToken:",e),e;case 4:throw new Error("Auth URL has not been provided.")}}))}))},t.prototype.requestRefresh=function(){return o(this,void 0,void 0,(function(){var t,e,n;return i(this,(function(o){switch(o.label){case 0:if(!this.options.refreshUrl||!this.options.authTokenName)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),t=r(r({},this.options.authBody),{token:(0,s.getSignedAuthToken)(this.options.authTokenName)}),[4,this.client.post(this.options.refreshUrl,t,{headers:this.options.authHeaders})];case 2:return e=o.sent(),localStorage.setItem(this.options.authTokenName,e.data.data.token),[2,e.data.data];case 3:throw n=o.sent(),console.error("Error in requestRefresh:",n),n;case 4:throw new Error("Refresh URL has not been provided.")}}))}))},t.prototype.requestRevoke=function(){return o(this,void 0,void 0,(function(){var t,e,n;return i(this,(function(o){switch(o.label){case 0:if(!this.options.revokeUrl||!this.options.authTokenName)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),t=r(r({},this.options.authBody),{token:(0,s.getSignedAuthToken)(this.options.authTokenName)}),[4,this.client.post(this.options.revokeUrl,t,{headers:this.options.authHeaders})];case 2:return e=o.sent(),localStorage.removeItem(this.options.authTokenName),[2,e.data.data];case 3:throw n=o.sent(),console.error("Error in requestRevoke:",n),n;case 4:throw new Error("Revoke URL has not been provided.")}}))}))},t.prototype.startRefreshTokenInterval=function(){var t=this;"Bearer"===this.getAuthMethod()&&(this.stopRefreshTokenInterval(),this.refreshTokenIntervalId=setInterval((function(){if(t.options.authTokenName){var e=(0,s.getSignedAuthToken)(t.options.authTokenName),n=(0,s.getJwtPayload)(e);n&&(0,a.getRemainingSeconds)(n.exp)<=60&&t.requestRefresh()}}),this.options.refreshTokenInterval))},t.prototype.stopRefreshTokenInterval=function(){this.refreshTokenIntervalId&&clearInterval(this.refreshTokenIntervalId)},t.prototype.destroy=function(){this.stopRefreshTokenInterval(),this.options.authTokenName&&localStorage.removeItem(this.options.authTokenName),t.instance=void 0},t}();e.Auth=l},3404:function(t,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ChannelManager=void 0;var r=function(){function t(){this.previousState="initialized",this.currentState="initialized"}return t.prototype.stateChangeObject=function(t,e,r){var o=this.currentState;return this.currentState=t,this.previousState=o,n(n({current:t,previous:this.previousState},void 0!==e&&{event:e}),void 0!==r&&{reason:r})},t}();e.ChannelManager=r},7305:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Channels=void 0;var r=n(6247),o=n(4972),i=function(){function t(t){this.channelsMap=new Map,this.creatorClassName=t}return t.prototype.get=function(t){return this.channelsMap.has(t)||("RealTime"===this.creatorClassName?this.channelsMap.set(t,new o.RealTimeChannel(t)):this.channelsMap.set(t,new r.RESTChannel(t))),this.channelsMap.get(t)},t}();e.Channels=i},5201:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},i=this&&this.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,o,(e=t[n](e)).done,e.value)}))}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Connection=void 0;var s=n(2178),a=n(9578),u=n(2462),c=n(8117),h=n(8977),l=n(146),p=n(6729),f=function(){function t(){this.events=new p,this.manager=new c.ConnectionManager,this.options=l.OptionsManager.getInstance().get(),this.ws=u.WebSocket.getInstance(),this.app=s.App.getInstance(),this.auth=h.Auth.getInstance(),this.options.autoConnect&&this.connect()}return Object.defineProperty(t.prototype,"state",{get:function(){return this.manager.currentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.ws.getSocket().id},enumerable:!1,configurable:!0}),t.prototype.connect=function(){return r(this,void 0,void 0,(function(){var t,e=this;return o(this,(function(n){switch(n.label){case 0:return(t=this.ws.getSocket())?[4,t.connect()]:[3,2];case 1:n.sent(),this.handleConnectingEvent().then((function(){return e.handleConnectEvent()})).then((function(){return e.handleAuthenticateEvent()})),this.handleDeauthenticateEvent(),this.handleCloseEvent(),this.handleErrorEvent(),n.label=2;case 2:return[2]}}))}))},t.prototype.handleConnectingEvent=function(){var t=this;return new Promise((function(e){t.events.emit("connecting",t.manager.stateChangeObject("connecting")),e()}))},t.prototype.handleConnectEvent=function(){return r(this,void 0,void 0,(function(){var t,e=this;return o(this,(function(n){return t=this.ws.getSocket(),[2,new Promise((function(n){return r(e,void 0,void 0,(function(){var e,r,s,a,u,c,h,l,p;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),e=!0,r=i(t.listener("connect")),o.label=1;case 1:return[4,r.next()];case 2:if(s=o.sent(),c=s.done)return[3,4];p=s.value,e=!1,(a=p).isAuthenticated?this.events.emit("connected",this.manager.stateChangeObject("connected")):this.options.autoAuthenticate&&!a.isAuthenticated&&this.auth.authenticate(),n(),o.label=3;case 3:return e=!0,[3,1];case 4:return[3,11];case 5:return u=o.sent(),h={error:u},[3,11];case 6:return o.trys.push([6,,9,10]),e||c||!(l=r.return)?[3,8]:[4,l.call(r)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(h)throw h.error;return[7];case 10:return[7];case 11:return[2]}}))}))}))]}))}))},t.prototype.handleAuthenticateEvent=function(){return r(this,void 0,void 0,(function(){var t,e=this;return o(this,(function(n){return t=this.ws.getSocket(),[2,new Promise((function(n){return r(e,void 0,void 0,(function(){var e,r,s,a,u,c,h;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),e=!0,r=i(t.listener("authenticate")),o.label=1;case 1:return[4,r.next()];case 2:if(s=o.sent(),u=s.done)return[3,4];s.value,e=!1,this.events.emit("connected",this.manager.stateChangeObject("connected")),n(),o.label=3;case 3:return e=!0,[3,1];case 4:return[3,11];case 5:return a=o.sent(),c={error:a},[3,11];case 6:return o.trys.push([6,,9,10]),e||u||!(h=r.return)?[3,8]:[4,h.call(r)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(c)throw c.error;return[7];case 10:return[7];case 11:return[2]}}))}))}))]}))}))},t.prototype.handleDeauthenticateEvent=function(){return r(this,void 0,void 0,(function(){var t,e=this;return o(this,(function(n){return t=this.ws.getSocket(),[2,new Promise((function(n){return r(e,void 0,void 0,(function(){var e,r,s,a,u,c,h;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),e=!0,r=i(t.listener("deauthenticate")),o.label=1;case 1:return[4,r.next()];case 2:if(s=o.sent(),u=s.done)return[3,4];s.value,e=!1,this.options.autoAuthenticate&&this.auth.authenticate(),n(),o.label=3;case 3:return e=!0,[3,1];case 4:return[3,11];case 5:return a=o.sent(),c={error:a},[3,11];case 6:return o.trys.push([6,,9,10]),e||u||!(h=r.return)?[3,8]:[4,h.call(r)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(c)throw c.error;return[7];case 10:return[7];case 11:return[2]}}))}))}))]}))}))},t.prototype.handleCloseEvent=function(){return r(this,void 0,void 0,(function(){var t,e=this;return o(this,(function(n){return t=this.ws.getSocket(),[2,new Promise((function(n){return r(e,void 0,void 0,(function(){var e,r,s,a,u,c,h;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),e=!0,r=i(t.listener("close")),o.label=1;case 1:return[4,r.next()];case 2:if(s=o.sent(),u=s.done)return[3,4];s.value,e=!1,this.events.emit("closed",this.manager.stateChangeObject("closed")),t.closeAllListeners(),n(),o.label=3;case 3:return e=!0,[3,1];case 4:return[3,11];case 5:return a=o.sent(),c={error:a},[3,11];case 6:return o.trys.push([6,,9,10]),e||u||!(h=r.return)?[3,8]:[4,h.call(r)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(c)throw c.error;return[7];case 10:return[7];case 11:return[2]}}))}))}))]}))}))},t.prototype.handleErrorEvent=function(){return r(this,void 0,void 0,(function(){var t,e=this;return o(this,(function(n){return t=this.ws.getSocket(),[2,new Promise((function(n){return r(e,void 0,void 0,(function(){var e,r,s,a,u,c,h,l,p;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),e=!0,r=i(t.listener("error")),o.label=1;case 1:return[4,r.next()];case 2:if(s=o.sent(),c=s.done)return[3,4];p=s.value,e=!1,a=p,this.events.emit("failed",this.manager.stateChangeObject("failed","failed",a)),n(),o.label=3;case 3:return e=!0,[3,1];case 4:return[3,11];case 5:return u=o.sent(),h={error:u},[3,11];case 6:return o.trys.push([6,,9,10]),e||c||!(l=r.return)?[3,8]:[4,l.call(r)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(h)throw h.error;return[7];case 10:return[7];case 11:return[2]}}))}))}))]}))}))},t.prototype.close=function(){var t=this.ws.getSocket();this.events.emit("closing",this.manager.stateChangeObject("closing")),t.disconnect()},t.prototype.on=function(t,e){var n=this;if("string"==typeof t&&"function"==typeof e)this.events.on(t,e);else if(Array.isArray(t)&&"function"==typeof e)t.forEach((function(t){n.events.on(t,e)}));else{if("function"!=typeof t||void 0!==e)throw new Error("Invalid arguments");a.DefaultConnectionEvents.forEach((function(e){n.events.on(e,t)}))}},t.prototype.once=function(t,e){var n=this;if("string"==typeof t&&"function"==typeof e)this.events.once(t,e);else{if("function"!=typeof t||void 0!==e)throw new Error("Invalid arguments");a.DefaultConnectionEvents.forEach((function(e){n.events.once(e,t)}))}},t.prototype.off=function(t,e){var n=this;if("string"==typeof t&&"function"==typeof e)this.events.off(t,e);else if(Array.isArray(t)&&"function"==typeof e)t.forEach((function(t){n.events.off(t,e)}));else if("string"==typeof t&&void 0===e)this.events.off(t);else if(Array.isArray(t)&&void 0===e)this.events.removeAllListeners(t);else if("function"==typeof t&&void 0===e)this.events.off(t);else{if(void 0!==t||void 0!==e)throw new Error("Invalid arguments");this.events.removeAllListeners()}},t.prototype.destroy=function(){this.ws.destroy(),this.off()},t}();e.Connection=f},8117:function(t,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionManager=void 0;var r=function(){function t(){this.previousState="initialized",this.currentState="initialized"}return t.prototype.stateChangeObject=function(t,e,r){var o=this.currentState;return this.currentState=t,this.previousState=o,n(n({current:t,previous:this.previousState},void 0!==e&&{event:e}),void 0!==r&&{reason:r})},t}();e.ConnectionManager=r},9383:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Http=void 0;var o=r(n(7218)),i=function(){function t(){this.baseUrl="https://rest.pubq.dev",this.client=o.default.create({baseURL:this.baseUrl})}return t.prototype.getClient=function(){return this.client},t}();e.Http=i},8189:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Message=void 0;var n=function(){function t(t){this.id=t.id,this.clientId=t.clientId,this.connectionId=t.connectionId,this.data=t.data,this.channel=t.channel}return t.prototype.toObject=function(){var t={};return void 0!==this.id&&(t.id=this.id),void 0!==this.clientId&&(t.clientId=this.clientId),void 0!==this.connectionId&&(t.connectionId=this.connectionId),void 0!==this.data&&(t.data=this.data),void 0!==this.channel&&(t.channel=this.channel),t},t}();e.Message=n},146:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.OptionsManager=void 0;var o=n(6239),i=n(8670),s=function(){function t(t){this.options=r(r(r({},o.DefaultCommonOptions),t),i.DefaultPrivateOptions)}return t.getInstance=function(e){return!this.instance&&e&&(this.instance=new t(e)),this.instance},t.prototype.get=function(){return this.options},t.destroy=function(){this.instance=void 0},t}();e.OptionsManager=s},2716:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Pubq=void 0;var i,s=n(9383),a=n(8977),u=n(146),c=n(7305);!function(t){var e=function(){function t(t,e){this.version="v1",this.options=u.OptionsManager.getInstance(t).get(),this.http=new s.Http,this.client=this.http.getClient(),this.auth=void 0===e?a.Auth.getInstance():e,this.channels=new c.Channels(this.constructor.name),this.options.autoRefreshToken&&this.auth.startRefreshTokenInterval()}return t.prototype.generateToken=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.client.post("/".concat(this.version,"/keys/tokens"),{clientId:null==t?void 0:t.clientId},{headers:{Authorization:this.auth.makeAuthorizationHeader()}})];case 1:return[2,e.sent()]}}))}))},t.prototype.refreshToken=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.client.post("/".concat(this.version,"/keys/tokens/refresh"),{},{headers:{Authorization:"Bearer ".concat(t)}})];case 1:return[2,e.sent()]}}))}))},t.prototype.revokeToken=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.client.post("/".concat(this.version,"/keys/tokens/revoke"),{},{headers:{Authorization:"Bearer ".concat(t)}})];case 1:return[2,e.sent()]}}))}))},t}();t.REST=e}(i||(e.Pubq=i={}))},6247:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.RESTChannel=void 0;var i=n(8977),s=n(9383),a=function(){function t(t){this.version="v1",this.channelName=null,this.http=new s.Http,this.client=this.http.getClient(),this.auth=i.Auth.getInstance(),this.channelName=t}return t.prototype.publish=function(t,e,n){return r(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return"string"!=typeof t||"function"!=typeof n?[3,1]:[3,6];case 1:return Array.isArray(t)&&void 0!==e&&"function"==typeof n?[3,6]:[3,2];case 2:return Array.isArray(t)&&"function"==typeof e?[3,6]:[3,3];case 3:return Array.isArray(t)&&void 0===e?[3,6]:[3,4];case 4:return void 0!==e?[3,6]:[4,this.client.post("/".concat(this.version,"/channels/").concat(this.channelName,"/messages"),{data:t},{headers:{Authorization:this.auth.makeAuthorizationHeader()}})];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t}();e.RESTChannel=a},2699:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Pubq=void 0;var r,o=n(8977),i=n(5201),s=n(2178),a=n(146),u=n(7305);!function(t){var e=function(){function t(t){this.optionsManager=a.OptionsManager.getInstance(t),this.options=this.optionsManager.get(),this.auth=o.Auth.getInstance(),this.connection=new i.Connection,this.channels=new u.Channels(this.constructor.name),this.app=s.App.getInstance()}return t.prototype.updateOptions=function(t){this.destroy(),this.optionsManager=a.OptionsManager.getInstance(t),this.options=this.optionsManager.get(),this.auth=o.Auth.getInstance(),this.connection=new i.Connection,this.channels=new u.Channels(this.constructor.name),this.app=s.App.getInstance()},t.prototype.destroy=function(){a.OptionsManager.destroy(),this.auth.destroy(),this.connection.destroy(),this.app.destroy()},t}();t.RealTime=e}(r||(e.Pubq=r={}))},4972:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},i=this&&this.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,o,(e=t[n](e)).done,e.value)}))}}};Object.defineProperty(e,"__esModule",{value:!0}),e.RealTimeChannel=void 0;var s=n(2178),a=n(3001),u=n(2462),c=n(3404),h=n(8189),l=n(146),p=n(6729),f=function(){function t(t){this.channel=null,this.channelName=null,this.events=new p,this.manager=new c.ChannelManager,this.options=l.OptionsManager.getInstance().get(),this.ws=u.WebSocket.getInstance(),this.app=s.App.getInstance(),this.channelName=t,this.init()}return Object.defineProperty(t.prototype,"state",{get:function(){return this.manager.currentState},enumerable:!1,configurable:!0}),t.prototype.init=function(){var t=this.ws.getSocket();this.channel=t.channel("".concat(this.app.getId(),"/").concat(this.channelName)),this.handleSubscribeEvent(),this.handleUnsubscribeEvent(),this.handleSubscribeFailEvent()},t.prototype.handleSubscribeEvent=function(){return r(this,void 0,void 0,(function(){var t=this;return o(this,(function(e){return[2,new Promise((function(e){return r(t,void 0,void 0,(function(){var t,n,r,s,a,u,c;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),t=!0,n=i(this.channel.listener("subscribe")),o.label=1;case 1:return[4,n.next()];case 2:if(r=o.sent(),a=r.done)return[3,4];r.value,t=!1,this.events.emit("subscribed",this.manager.stateChangeObject("subscribed")),e(),o.label=3;case 3:return t=!0,[3,1];case 4:return[3,11];case 5:return s=o.sent(),u={error:s},[3,11];case 6:return o.trys.push([6,,9,10]),t||a||!(c=n.return)?[3,8]:[4,c.call(n)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(u)throw u.error;return[7];case 10:return[7];case 11:return[2]}}))}))}))]}))}))},t.prototype.handleUnsubscribeEvent=function(){return r(this,void 0,void 0,(function(){var t=this;return o(this,(function(e){return[2,new Promise((function(e){return r(t,void 0,void 0,(function(){var t,n,r,s,a,u,c;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),t=!0,n=i(this.channel.listener("unsubscribe")),o.label=1;case 1:return[4,n.next()];case 2:if(r=o.sent(),a=r.done)return[3,4];r.value,t=!1,this.events.emit("unsubscribed",this.manager.stateChangeObject("unsubscribed")),e(),o.label=3;case 3:return t=!0,[3,1];case 4:return[3,11];case 5:return s=o.sent(),u={error:s},[3,11];case 6:return o.trys.push([6,,9,10]),t||a||!(c=n.return)?[3,8]:[4,c.call(n)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(u)throw u.error;return[7];case 10:return[7];case 11:return[2]}}))}))}))]}))}))},t.prototype.handleSubscribeFailEvent=function(){return r(this,void 0,void 0,(function(){var t,e=this;return o(this,(function(n){return t=this.ws.getSocket(),[2,new Promise((function(n){return r(e,void 0,void 0,(function(){var e,r,s,a,u,c,h,l,p;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),e=!0,r=i(t.listener("subscribeFail")),o.label=1;case 1:return[4,r.next()];case 2:if(s=o.sent(),c=s.done)return[3,4];p=s.value,e=!1,a=p,this.events.emit("failed",this.manager.stateChangeObject("failed","failed",a)),n(),o.label=3;case 3:return e=!0,[3,1];case 4:return[3,11];case 5:return u=o.sent(),h={error:u},[3,11];case 6:return o.trys.push([6,,9,10]),e||c||!(l=r.return)?[3,8]:[4,l.call(r)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(h)throw h.error;return[7];case 10:return[7];case 11:return[2]}}))}))}))]}))}))},t.prototype.handleChannelDataEvent=function(t){return r(this,void 0,void 0,(function(){var e=this;return o(this,(function(n){return[2,new Promise((function(n){return r(e,void 0,void 0,(function(){var e,r,s,a,u,c,l,p,f,d;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),e=!0,r=i(this.channel),o.label=1;case 1:return[4,r.next()];case 2:if(s=o.sent(),l=s.done)return[3,4];d=s.value,e=!1,a=d,u=new h.Message({data:a,channel:this.channel.name}).toObject(),t(u),n(),o.label=3;case 3:return e=!0,[3,1];case 4:return[3,11];case 5:return c=o.sent(),p={error:c},[3,11];case 6:return o.trys.push([6,,9,10]),e||l||!(f=r.return)?[3,8]:[4,f.call(r)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(p)throw p.error;return[7];case 10:return[7];case 11:return[2]}}))}))}))]}))}))},t.prototype.subscribe=function(t,e){if(!this.channel)throw new Error("Channel is not specified.");if(this.ws.getSocket().isSubscribed("".concat(this.app.getId(),"/").concat(this.channelName),!0))return this.events.emit("failed",this.manager.stateChangeObject("failed","failed",{code:201,message:"The channel has already been subscribed."})),!1;this.events.emit("subscribing",this.manager.stateChangeObject("subscribing")),"string"==typeof t&&"function"==typeof e||Array.isArray(t)&&"function"==typeof e||"function"==typeof t&&void 0===e&&(this.channel.subscribe(),this.handleChannelDataEvent(t))},t.prototype.unsubscribe=function(t,e){if(!this.channel)throw new Error("Channel is not specified.");var n=this.ws.getSocket();if(!n.isSubscribed("".concat(this.app.getId(),"/").concat(this.channelName),!0))return this.events.emit("failed",this.manager.stateChangeObject("failed","failed",{code:203,message:"Can not unsubscribe from a channel that is not subscribed."})),!1;this.events.emit("unsubscribing",this.manager.stateChangeObject("unsubscribing")),"string"==typeof t&&"function"==typeof e||Array.isArray(t)&&"function"==typeof e||"string"==typeof t&&void 0===e||Array.isArray(t)&&void 0===e||"function"==typeof t&&void 0===e||void 0===t&&void 0===e&&n.unsubscribe("".concat(this.app.getId(),"/").concat(this.channelName))},t.prototype.publish=function(t){this.ws.getSocket().transmitPublish("".concat(this.app.getId(),"/").concat(this.channelName),t)},t.prototype.on=function(t,e){var n=this;if("string"==typeof t&&"function"==typeof e)this.events.on(t,e);else if(Array.isArray(t)&&"function"==typeof e)t.forEach((function(t){n.events.on(t,e)}));else{if("function"!=typeof t||void 0!==e)throw new Error("Invalid arguments");a.DefaultChannelEvents.forEach((function(e){n.events.on(e,t)}))}},t.prototype.once=function(t,e){var n=this;if("string"==typeof t&&"function"==typeof e)this.events.once(t,e);else{if("function"!=typeof t||void 0!==e)throw new Error("Invalid arguments");a.DefaultChannelEvents.forEach((function(e){n.events.once(e,t)}))}},t.prototype.off=function(t,e){var n=this;if("string"==typeof t&&"function"==typeof e)this.events.off(t,e);else if(Array.isArray(t)&&"function"==typeof e)t.forEach((function(t){n.events.off(t,e)}));else if("string"==typeof t&&void 0===e)this.events.off(t);else if(Array.isArray(t)&&void 0===e)this.events.removeAllListeners(t);else if("function"==typeof t&&void 0===e)this.events.off(t);else{if(void 0!==t||void 0!==e)throw new Error("Invalid arguments");this.events.removeAllListeners()}},t.prototype.destroy=function(){this.channel&&(this.unsubscribe(),this.channel.killAllListeners(),this.channel.kill()),this.off()},t}();e.RealTimeChannel=f},2462:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocket=void 0;var r=n(146),o=n(2984),i=function(){function t(){var t=r.OptionsManager.getInstance().get();t.autoConnect=!1,this.socket=o.create(t)}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.prototype.getSocket=function(){return this.socket},t.prototype.destroy=function(){t.instance&&(this.socket.disconnect(),this.socket.killAllListeners(),this.socket.killAllReceivers(),this.socket.deauthenticate(),t.instance=null)},t.instance=null,t}();e.WebSocket=i},3001:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultChannelEvents=void 0,e.DefaultChannelEvents=["initialized","subscribing","subscribed","unsubscribing","unsubscribed","suspended","failed","update"]},6239:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultCommonOptions=void 0,e.DefaultCommonOptions={key:void 0,authUrl:void 0,refreshUrl:void 0,revokeUrl:void 0,authBody:{},authHeaders:{},authTokenName:"pubq.authToken",autoConnect:!0,autoReconnect:!0,autoAuthenticate:!0,autoRefreshToken:!0,refreshTokenInterval:1e3,autoSubscribeOnConnect:!0,connectTimeout:2e4,ackTimeout:1e4,timestampRequests:!1,timestampParam:"t",binaryType:"arraybuffer",batchOnHandshake:!1,batchOnHandshakeDuration:100,batchInterval:50,protocolVersion:2,wsOptions:{},cloneData:!1}},9578:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultConnectionEvents=void 0,e.DefaultConnectionEvents=["initialized","connecting","connected","disconnected","suspended","closing","closed","failed","update"]},8670:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultPrivateOptions=void 0,e.DefaultPrivateOptions={hostname:"realtime.pubq.dev",secure:!0,port:443,path:"/"}},7041:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Pubq=void 0;var s,a=i(n(2699)),u=i(n(2716));!function(t){t.RealTime=a.Pubq.RealTime,t.REST=u.Pubq.REST}(s||(e.Pubq=s={})),"undefined"!=typeof window&&(window.Pubq=s),e.default=s},1913:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getJwtPayload=e.getSignedAuthToken=void 0,e.getSignedAuthToken=function(t){return localStorage.getItem(t)},e.getJwtPayload=function(t){if(t){var e=t.split(".");if(3!==e.length)throw new Error("Invalid JWT format");var n=atob(e[1]);return JSON.parse(n)}}},4418:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRemainingSeconds=void 0,e.getRemainingSeconds=function(t){var e=1e3*t-(new Date).getTime();return Math.floor(e/1e3)}},1614:(t,e,n)=>{"use strict";var r;n.r(e),n.d(e,{NIL:()=>x,parse:()=>y,stringify:()=>h,v1:()=>m,v3:()=>C,v4:()=>A,v5:()=>B,validate:()=>a,version:()=>I});var o=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,a=function(t){return"string"==typeof t&&s.test(t)};for(var u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));const h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n};var l,p,f=0,d=0;const m=function(t,e,n){var r=e&&n||0,o=e||new Array(16),s=(t=t||{}).node||l,a=void 0!==t.clockseq?t.clockseq:p;if(null==s||null==a){var u=t.random||(t.rng||i)();null==s&&(s=l=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==a&&(a=p=16383&(u[6]<<8|u[7]))}var c=void 0!==t.msecs?t.msecs:Date.now(),m=void 0!==t.nsecs?t.nsecs:d+1,y=c-f+(m-d)/1e4;if(y<0&&void 0===t.clockseq&&(a=a+1&16383),(y<0||c>f)&&void 0===t.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=c,d=m,p=a;var g=(1e4*(268435455&(c+=122192928e5))+m)%4294967296;o[r++]=g>>>24&255,o[r++]=g>>>16&255,o[r++]=g>>>8&255,o[r++]=255&g;var v=c/4294967296*1e4&268435455;o[r++]=v>>>8&255,o[r++]=255&v,o[r++]=v>>>24&15|16,o[r++]=v>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var b=0;b<6;++b)o[r+b]=s[b];return e||h(o)},y=function(t){if(!a(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n};function g(t,e,n){function r(t,r,o,i){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof r&&(r=y(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+t.length);if(s.set(r),s.set(t,r.length),(s=n(s))[6]=15&s[6]|e,s[8]=63&s[8]|128,o){i=i||0;for(var a=0;a<16;++a)o[i+a]=s[a];return o}return h(s)}try{r.name=t}catch(t){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function v(t){return 14+(t+64>>>9<<4)+1}function b(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function w(t,e,n,r,o,i){return b((s=b(b(e,t),b(r,i)))<<(a=o)|s>>>32-a,n);var s,a}function E(t,e,n,r,o,i,s){return w(e&n|~e&r,t,e,o,i,s)}function k(t,e,n,r,o,i,s){return w(e&r|n&~r,t,e,o,i,s)}function S(t,e,n,r,o,i,s){return w(e^n^r,t,e,o,i,s)}function _(t,e,n,r,o,i,s){return w(n^(e|~r),t,e,o,i,s)}const C=g("v3",48,(function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(t){for(var e=[],n=32*t.length,r="0123456789abcdef",o=0;o<n;o+=8){var i=t[o>>5]>>>o%32&255,s=parseInt(r.charAt(i>>>4&15)+r.charAt(15&i),16);e.push(s)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[v(e)-1]=e;for(var n=1732584193,r=-271733879,o=-1732584194,i=271733878,s=0;s<t.length;s+=16){var a=n,u=r,c=o,h=i;n=E(n,r,o,i,t[s],7,-680876936),i=E(i,n,r,o,t[s+1],12,-389564586),o=E(o,i,n,r,t[s+2],17,606105819),r=E(r,o,i,n,t[s+3],22,-1044525330),n=E(n,r,o,i,t[s+4],7,-176418897),i=E(i,n,r,o,t[s+5],12,1200080426),o=E(o,i,n,r,t[s+6],17,-1473231341),r=E(r,o,i,n,t[s+7],22,-45705983),n=E(n,r,o,i,t[s+8],7,1770035416),i=E(i,n,r,o,t[s+9],12,-1958414417),o=E(o,i,n,r,t[s+10],17,-42063),r=E(r,o,i,n,t[s+11],22,-1990404162),n=E(n,r,o,i,t[s+12],7,1804603682),i=E(i,n,r,o,t[s+13],12,-40341101),o=E(o,i,n,r,t[s+14],17,-1502002290),n=k(n,r=E(r,o,i,n,t[s+15],22,1236535329),o,i,t[s+1],5,-165796510),i=k(i,n,r,o,t[s+6],9,-1069501632),o=k(o,i,n,r,t[s+11],14,643717713),r=k(r,o,i,n,t[s],20,-373897302),n=k(n,r,o,i,t[s+5],5,-701558691),i=k(i,n,r,o,t[s+10],9,38016083),o=k(o,i,n,r,t[s+15],14,-660478335),r=k(r,o,i,n,t[s+4],20,-405537848),n=k(n,r,o,i,t[s+9],5,568446438),i=k(i,n,r,o,t[s+14],9,-1019803690),o=k(o,i,n,r,t[s+3],14,-187363961),r=k(r,o,i,n,t[s+8],20,1163531501),n=k(n,r,o,i,t[s+13],5,-1444681467),i=k(i,n,r,o,t[s+2],9,-51403784),o=k(o,i,n,r,t[s+7],14,1735328473),n=S(n,r=k(r,o,i,n,t[s+12],20,-1926607734),o,i,t[s+5],4,-378558),i=S(i,n,r,o,t[s+8],11,-2022574463),o=S(o,i,n,r,t[s+11],16,1839030562),r=S(r,o,i,n,t[s+14],23,-35309556),n=S(n,r,o,i,t[s+1],4,-1530992060),i=S(i,n,r,o,t[s+4],11,1272893353),o=S(o,i,n,r,t[s+7],16,-155497632),r=S(r,o,i,n,t[s+10],23,-1094730640),n=S(n,r,o,i,t[s+13],4,681279174),i=S(i,n,r,o,t[s],11,-358537222),o=S(o,i,n,r,t[s+3],16,-722521979),r=S(r,o,i,n,t[s+6],23,76029189),n=S(n,r,o,i,t[s+9],4,-640364487),i=S(i,n,r,o,t[s+12],11,-421815835),o=S(o,i,n,r,t[s+15],16,530742520),n=_(n,r=S(r,o,i,n,t[s+2],23,-995338651),o,i,t[s],6,-198630844),i=_(i,n,r,o,t[s+7],10,1126891415),o=_(o,i,n,r,t[s+14],15,-1416354905),r=_(r,o,i,n,t[s+5],21,-57434055),n=_(n,r,o,i,t[s+12],6,1700485571),i=_(i,n,r,o,t[s+3],10,-1894986606),o=_(o,i,n,r,t[s+10],15,-1051523),r=_(r,o,i,n,t[s+1],21,-2054922799),n=_(n,r,o,i,t[s+8],6,1873313359),i=_(i,n,r,o,t[s+15],10,-30611744),o=_(o,i,n,r,t[s+6],15,-1560198380),r=_(r,o,i,n,t[s+13],21,1309151649),n=_(n,r,o,i,t[s+4],6,-145523070),i=_(i,n,r,o,t[s+11],10,-1120210379),o=_(o,i,n,r,t[s+2],15,718787259),r=_(r,o,i,n,t[s+9],21,-343485551),n=b(n,a),r=b(r,u),o=b(o,c),i=b(i,h)}return[n,r,o,i]}(function(t){if(0===t.length)return[];for(var e=8*t.length,n=new Uint32Array(v(e)),r=0;r<e;r+=8)n[r>>5]|=(255&t[r/8])<<r%32;return n}(t),8*t.length))})),A=function(t,e,n){var r=(t=t||{}).random||(t.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return h(r)};function T(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:case 3:return e^n^r;case 2:return e&n^e&r^n&r}}function O(t,e){return t<<e|t>>>32-e}const B=g("v5",80,(function(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var r=unescape(encodeURIComponent(t));t=[];for(var o=0;o<r.length;++o)t.push(r.charCodeAt(o))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var i=t.length/4+2,s=Math.ceil(i/16),a=new Array(s),u=0;u<s;++u){for(var c=new Uint32Array(16),h=0;h<16;++h)c[h]=t[64*u+4*h]<<24|t[64*u+4*h+1]<<16|t[64*u+4*h+2]<<8|t[64*u+4*h+3];a[u]=c}a[s-1][14]=8*(t.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(t.length-1)&4294967295;for(var l=0;l<s;++l){for(var p=new Uint32Array(80),f=0;f<16;++f)p[f]=a[l][f];for(var d=16;d<80;++d)p[d]=O(p[d-3]^p[d-8]^p[d-14]^p[d-16],1);for(var m=n[0],y=n[1],g=n[2],v=n[3],b=n[4],w=0;w<80;++w){var E=Math.floor(w/20),k=O(m,5)+T(E,y,g,v)+b+e[E]+p[w]>>>0;b=v,v=g,g=O(y,30)>>>0,y=m,m=k}n[0]=n[0]+m>>>0,n[1]=n[1]+y>>>0,n[2]=n[2]+g>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),x="00000000-0000-0000-0000-000000000000",I=function(t){if(!a(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}},7018:t=>{class e{constructor(t,e,n,r){this.id=e,this._backpressure=0,this.stream=t,this.currentNode=n,this.timeout=r,this.isAlive=!0,this.stream.setConsumer(this.id,this)}getStats(){let t={id:this.id,backpressure:this._backpressure};return null!=this.timeout&&(t.timeout=this.timeout),t}_resetBackpressure(){this._backpressure=0}applyBackpressure(t){this._backpressure++}releaseBackpressure(t){this._backpressure--}getBackpressure(){return this._backpressure}write(t){void 0!==this._timeoutId&&(clearTimeout(this._timeoutId),delete this._timeoutId),this.applyBackpressure(t),this._resolve&&(this._resolve(),delete this._resolve)}kill(t){void 0!==this._timeoutId&&(clearTimeout(this._timeoutId),delete this._timeoutId),this._killPacket={value:t,done:!0},this._destroy(),this._resolve&&(this._resolve(),delete this._resolve)}_destroy(){this.isAlive=!1,this._resetBackpressure(),this.stream.removeConsumer(this.id)}async _waitForNextItem(t){return new Promise(((e,n)=>{let r;if(this._resolve=e,void 0!==t){let e=new Error("Stream consumer iteration timed out");(async()=>{let o=function(t){let e,n=new Promise((n=>{e=setTimeout(n,t)}));return{timeoutId:e,promise:n}}(t);r=o.timeoutId,await o.promise,e.name="TimeoutError",delete this._resolve,n(e)})()}this._timeoutId=r}))}async next(){for(this.stream.setConsumer(this.id,this);;){if(!this.currentNode.next)try{await this._waitForNextItem(this.timeout)}catch(t){throw this._destroy(),t}if(this._killPacket){this._destroy();let t=this._killPacket;return delete this._killPacket,t}if(this.currentNode=this.currentNode.next,this.releaseBackpressure(this.currentNode.data),!this.currentNode.consumerId||this.currentNode.consumerId===this.id)return this.currentNode.data.done&&this._destroy(),this.currentNode.data}}return(){return delete this.currentNode,this._destroy(),{}}[Symbol.asyncIterator](){return this}}t.exports=e},3914:(t,e,n)=>{const r=n(3413),o=n(7018);t.exports=class extends r{constructor(){super(),this.nextConsumerId=1,this._consumers=new Map,this._tailNode={next:null,data:{value:void 0,done:!1}}}_write(t,e,n){let r={data:{value:t,done:e},next:null};n&&(r.consumerId=n),this._tailNode.next=r,this._tailNode=r;for(let t of this._consumers.values())t.write(r.data)}write(t){this._write(t,!1)}close(t){this._write(t,!0)}writeToConsumer(t,e){this._write(e,!1,t)}closeConsumer(t,e){this._write(e,!0,t)}kill(t){for(let e of this._consumers.keys())this.killConsumer(e,t)}killConsumer(t,e){let n=this._consumers.get(t);n&&n.kill(e)}getBackpressure(){let t=0;for(let e of this._consumers.values()){let n=e.getBackpressure();n>t&&(t=n)}return t}getConsumerBackpressure(t){let e=this._consumers.get(t);return e?e.getBackpressure():0}hasConsumer(t){return this._consumers.has(t)}setConsumer(t,e){this._consumers.set(t,e),e.currentNode||(e.currentNode=this._tailNode)}removeConsumer(t){return this._consumers.delete(t)}getConsumerStats(t){let e=this._consumers.get(t);if(e)return e.getStats()}getConsumerStatsList(){let t=[];for(let e of this._consumers.values())t.push(e.getStats());return t}createConsumer(t){return new o(this,this.nextConsumerId++,this._tailNode,t)}getConsumerList(){return[...this._consumers.values()]}getConsumerCount(){return this._consumers.size}}},7218:(t,e,n)=>{"use strict";function r(t,e){return function(){return t.apply(e,arguments)}}const{toString:o}=Object.prototype,{getPrototypeOf:i}=Object,s=(a=Object.create(null),t=>{const e=o.call(t);return a[e]||(a[e]=e.slice(8,-1).toLowerCase())});var a;const u=t=>(t=t.toLowerCase(),e=>s(e)===t),c=t=>e=>typeof e===t,{isArray:h}=Array,l=c("undefined"),p=u("ArrayBuffer"),f=c("string"),d=c("function"),m=c("number"),y=t=>null!==t&&"object"==typeof t,g=t=>{if("object"!==s(t))return!1;const e=i(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},v=u("Date"),b=u("File"),w=u("Blob"),E=u("FileList"),k=u("URLSearchParams");function S(t,e,{allOwnKeys:n=!1}={}){if(null==t)return;let r,o;if("object"!=typeof t&&(t=[t]),h(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let s;for(r=0;r<i;r++)s=o[r],e.call(null,t[s],s,t)}}function _(t,e){e=e.toLowerCase();const n=Object.keys(t);let r,o=n.length;for(;o-- >0;)if(r=n[o],e===r.toLowerCase())return r;return null}const C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,A=t=>!l(t)&&t!==C,T=(O="undefined"!=typeof Uint8Array&&i(Uint8Array),t=>O&&t instanceof O);var O;const B=u("HTMLFormElement"),x=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),I=u("RegExp"),P=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};S(n,((n,o)=>{let i;!1!==(i=e(n,o,t))&&(r[o]=i||n)})),Object.defineProperties(t,r)},D="abcdefghijklmnopqrstuvwxyz",R="0123456789",N={DIGIT:R,ALPHA:D,ALPHA_DIGIT:D+D.toUpperCase()+R},L=u("AsyncFunction");var U={isArray:h,isArrayBuffer:p,isBuffer:function(t){return null!==t&&!l(t)&&null!==t.constructor&&!l(t.constructor)&&d(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||d(t.append)&&("formdata"===(e=s(t))||"object"===e&&d(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&p(t.buffer),e},isString:f,isNumber:m,isBoolean:t=>!0===t||!1===t,isObject:y,isPlainObject:g,isUndefined:l,isDate:v,isFile:b,isBlob:w,isRegExp:I,isFunction:d,isStream:t=>y(t)&&d(t.pipe),isURLSearchParams:k,isTypedArray:T,isFileList:E,forEach:S,merge:function t(){const{caseless:e}=A(this)&&this||{},n={},r=(r,o)=>{const i=e&&_(n,o)||o;g(n[i])&&g(r)?n[i]=t(n[i],r):g(r)?n[i]=t({},r):h(r)?n[i]=r.slice():n[i]=r};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&S(arguments[t],r);return n},extend:(t,e,n,{allOwnKeys:o}={})=>(S(e,((e,o)=>{n&&d(e)?t[o]=r(e,n):t[o]=e}),{allOwnKeys:o}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,r)=>{let o,s,a;const u={};if(e=e||{},null==t)return e;do{for(o=Object.getOwnPropertyNames(t),s=o.length;s-- >0;)a=o[s],r&&!r(a,t,e)||u[a]||(e[a]=t[a],u[a]=!0);t=!1!==n&&i(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:s,kindOfTest:u,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return-1!==r&&r===n},toArray:t=>{if(!t)return null;if(h(t))return t;let e=t.length;if(!m(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=n.next())&&!r.done;){const n=r.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const r=[];for(;null!==(n=t.exec(e));)r.push(n);return r},isHTMLForm:B,hasOwnProperty:x,hasOwnProp:x,reduceDescriptors:P,freezeMethods:t=>{P(t,((e,n)=>{if(d(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=t[n];d(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},r=t=>{t.forEach((t=>{n[t]=!0}))};return h(t)?r(t):r(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:_,global:C,isContextDefined:A,ALPHABET:N,generateString:(t=16,e=N.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n},isSpecCompliantForm:function(t){return!!(t&&d(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,r)=>{if(y(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[r]=t;const o=h(t)?[]:{};return S(t,((t,e)=>{const i=n(t,r+1);!l(i)&&(o[e]=i)})),e[r]=void 0,o}}return t};return n(t,0)},isAsyncFn:L,isThenable:t=>t&&(y(t)||d(t))&&d(t.then)&&d(t.catch)};function j(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}U.inherits(j,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const M=j.prototype,F={};function H(t){return U.isPlainObject(t)||U.isArray(t)}function q(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function z(t,e,n){return t?t.concat(e).map((function(t,e){return t=q(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{F[t]={value:t}})),Object.defineProperties(j,F),Object.defineProperty(M,"isAxiosError",{value:!0}),j.from=(t,e,n,r,o,i)=>{const s=Object.create(M);return U.toFlatObject(t,s,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),j.call(s,t.message,e,n,r,o),s.cause=t,s.name=t.name,i&&Object.assign(s,i),s};const G=U.toFlatObject(U,{},null,(function(t){return/^is[A-Z]/.test(t)}));function $(t,e,n){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const r=(n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!U.isUndefined(e[t])}))).metaTokens,o=n.visitor||c,i=n.dots,s=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(o))throw new TypeError("visitor must be a function");function u(t){if(null===t)return"";if(U.isDate(t))return t.toISOString();if(!a&&U.isBlob(t))throw new j("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(t)||U.isTypedArray(t)?a&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,n,o){let a=t;if(t&&!o&&"object"==typeof t)if(U.endsWith(n,"{}"))n=r?n:n.slice(0,-2),t=JSON.stringify(t);else if(U.isArray(t)&&function(t){return U.isArray(t)&&!t.some(H)}(t)||(U.isFileList(t)||U.endsWith(n,"[]"))&&(a=U.toArray(t)))return n=q(n),a.forEach((function(t,r){!U.isUndefined(t)&&null!==t&&e.append(!0===s?z([n],r,i):null===s?n:n+"[]",u(t))})),!1;return!!H(t)||(e.append(z(o,n,i),u(t)),!1)}const h=[],l=Object.assign(G,{defaultVisitor:c,convertValue:u,isVisitable:H});if(!U.isObject(t))throw new TypeError("data must be an object");return function t(n,r){if(!U.isUndefined(n)){if(-1!==h.indexOf(n))throw Error("Circular reference detected in "+r.join("."));h.push(n),U.forEach(n,(function(n,i){!0===(!(U.isUndefined(n)||null===n)&&o.call(e,n,U.isString(i)?i.trim():i,r,l))&&t(n,r?r.concat(i):[i])})),h.pop()}}(t),e}function W(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function J(t,e){this._pairs=[],t&&$(t,this,e)}const K=J.prototype;function V(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function X(t,e,n){if(!e)return t;const r=n&&n.encode||V,o=n&&n.serialize;let i;if(i=o?o(e,n):U.isURLSearchParams(e)?e.toString():new J(e,n).toString(r),i){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}K.append=function(t,e){this._pairs.push([t,e])},K.toString=function(t){const e=t?function(e){return t.call(this,e,W)}:W;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var Q=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){U.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},Y={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Z={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:J,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const tt="undefined"!=typeof window&&"undefined"!=typeof document,et=(nt="undefined"!=typeof navigator&&navigator.product,tt&&["ReactNative","NativeScript","NS"].indexOf(nt)<0);var nt;const rt="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var ot={...Object.freeze({__proto__:null,hasBrowserEnv:tt,hasStandardBrowserWebWorkerEnv:rt,hasStandardBrowserEnv:et}),...Z};function it(t){function e(t,n,r,o){let i=t[o++];const s=Number.isFinite(+i),a=o>=t.length;return i=!i&&U.isArray(r)?r.length:i,a?(U.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!s):(r[i]&&U.isObject(r[i])||(r[i]=[]),e(t,n,r[i],o)&&U.isArray(r[i])&&(r[i]=function(t){const e={},n=Object.keys(t);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],e[i]=t[i];return e}(r[i])),!s)}if(U.isFormData(t)&&U.isFunction(t.entries)){const n={};return U.forEachEntry(t,((t,r)=>{e(function(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),r,n,0)})),n}return null}const st={transitional:Y,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,o=U.isObject(t);if(o&&U.isHTMLForm(t)&&(t=new FormData(t)),U.isFormData(t))return r&&r?JSON.stringify(it(t)):t;if(U.isArrayBuffer(t)||U.isBuffer(t)||U.isStream(t)||U.isFile(t)||U.isBlob(t))return t;if(U.isArrayBufferView(t))return t.buffer;if(U.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return $(t,new ot.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,r){return ot.isNode&&U.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((i=U.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return $(i?{"files[]":t}:t,e&&new e,this.formSerializer)}}return o||r?(e.setContentType("application/json",!1),function(t,e,n){if(U.isString(t))try{return(0,JSON.parse)(t),U.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||st.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(t&&U.isString(t)&&(n&&!this.responseType||r)){const n=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(t){if(n){if("SyntaxError"===t.name)throw j.from(t,j.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ot.classes.FormData,Blob:ot.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],(t=>{st.headers[t]={}}));var at=st;const ut=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ct=Symbol("internals");function ht(t){return t&&String(t).trim().toLowerCase()}function lt(t){return!1===t||null==t?t:U.isArray(t)?t.map(lt):String(t)}function pt(t,e,n,r,o){return U.isFunction(r)?r.call(this,e,n):(o&&(e=n),U.isString(e)?U.isString(r)?-1!==e.indexOf(r):U.isRegExp(r)?r.test(e):void 0:void 0)}class ft{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function o(t,e,n){const o=ht(e);if(!o)throw new Error("header name must be a non-empty string");const i=U.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||e]=lt(t))}const i=(t,e)=>U.forEach(t,((t,n)=>o(t,n,e)));return U.isPlainObject(t)||t instanceof this.constructor?i(t,e):U.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?i((t=>{const e={};let n,r,o;return t&&t.split("\n").forEach((function(t){o=t.indexOf(":"),n=t.substring(0,o).trim().toLowerCase(),r=t.substring(o+1).trim(),!n||e[n]&&ut[n]||("set-cookie"===n?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)})),e})(t),e):null!=t&&o(e,t,n),this}get(t,e){if(t=ht(t)){const n=U.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}(t);if(U.isFunction(e))return e.call(this,t,n);if(U.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=ht(t)){const n=U.findKey(this,t);return!(!n||void 0===this[n]||e&&!pt(0,this[n],n,e))}return!1}delete(t,e){const n=this;let r=!1;function o(t){if(t=ht(t)){const o=U.findKey(n,t);!o||e&&!pt(0,n[o],o,e)||(delete n[o],r=!0)}}return U.isArray(t)?t.forEach(o):o(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;for(;n--;){const o=e[n];t&&!pt(0,this[o],o,t,!0)||(delete this[o],r=!0)}return r}normalize(t){const e=this,n={};return U.forEach(this,((r,o)=>{const i=U.findKey(n,o);if(i)return e[i]=lt(r),void delete e[o];const s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(o):String(o).trim();s!==o&&delete e[o],e[s]=lt(r),n[s]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return U.forEach(this,((n,r)=>{null!=n&&!1!==n&&(e[r]=t&&U.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach((t=>n.set(t))),n}static accessor(t){const e=(this[ct]=this[ct]={accessors:{}}).accessors,n=this.prototype;function r(t){const r=ht(t);e[r]||(function(t,e){const n=U.toCamelCase(" "+e);["get","set","has"].forEach((r=>{Object.defineProperty(t,r+n,{value:function(t,n,o){return this[r].call(this,e,t,n,o)},configurable:!0})}))}(n,t),e[r]=!0)}return U.isArray(t)?t.forEach(r):r(t),this}}ft.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),U.reduceDescriptors(ft.prototype,(({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[n]=t}}})),U.freezeMethods(ft);var dt=ft;function mt(t,e){const n=this||at,r=e||n,o=dt.from(r.headers);let i=r.data;return U.forEach(t,(function(t){i=t.call(n,i,o.normalize(),e?e.status:void 0)})),o.normalize(),i}function yt(t){return!(!t||!t.__CANCEL__)}function gt(t,e,n){j.call(this,null==t?"canceled":t,j.ERR_CANCELED,e,n),this.name="CanceledError"}U.inherits(gt,j,{__CANCEL__:!0});var vt=ot.hasStandardBrowserEnv?{write(t,e,n,r,o,i){const s=[t+"="+encodeURIComponent(e)];U.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),U.isString(r)&&s.push("path="+r),U.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function bt(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}var wt=ot.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function r(n){let r=n;return t&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=r(window.location.href),function(t){const e=U.isString(t)?r(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0};function Et(t,e){let n=0;const r=function(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o,i=0,s=0;return e=void 0!==e?e:1e3,function(a){const u=Date.now(),c=r[s];o||(o=u),n[i]=a,r[i]=u;let h=s,l=0;for(;h!==i;)l+=n[h++],h%=t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const p=c&&u-c;return p?Math.round(1e3*l/p):void 0}}(50,250);return o=>{const i=o.loaded,s=o.lengthComputable?o.total:void 0,a=i-n,u=r(a);n=i;const c={loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:u||void 0,estimated:u&&s&&i<=s?(s-i)/u:void 0,event:o};c[e?"download":"upload"]=!0,t(c)}}const kt={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){let r=t.data;const o=dt.from(t.headers).normalize();let i,s,{responseType:a,withXSRFToken:u}=t;function c(){t.cancelToken&&t.cancelToken.unsubscribe(i),t.signal&&t.signal.removeEventListener("abort",i)}if(U.isFormData(r))if(ot.hasStandardBrowserEnv||ot.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if(!1!==(s=o.getContentType())){const[t,...e]=s?s.split(";").map((t=>t.trim())).filter(Boolean):[];o.setContentType([t||"multipart/form-data",...e].join("; "))}let h=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",n=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(e+":"+n))}const l=bt(t.baseURL,t.url);function p(){if(!h)return;const r=dt.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());!function(t,e,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new j("Request failed with status code "+n.status,[j.ERR_BAD_REQUEST,j.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}((function(t){e(t),c()}),(function(t){n(t),c()}),{data:a&&"text"!==a&&"json"!==a?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:t,request:h}),h=null}if(h.open(t.method.toUpperCase(),X(l,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,"onloadend"in h?h.onloadend=p:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(p)},h.onabort=function(){h&&(n(new j("Request aborted",j.ECONNABORTED,t,h)),h=null)},h.onerror=function(){n(new j("Network Error",j.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const r=t.transitional||Y;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new j(e,r.clarifyTimeoutError?j.ETIMEDOUT:j.ECONNABORTED,t,h)),h=null},ot.hasStandardBrowserEnv&&(u&&U.isFunction(u)&&(u=u(t)),u||!1!==u&&wt(l))){const e=t.xsrfHeaderName&&t.xsrfCookieName&&vt.read(t.xsrfCookieName);e&&o.set(t.xsrfHeaderName,e)}void 0===r&&o.setContentType(null),"setRequestHeader"in h&&U.forEach(o.toJSON(),(function(t,e){h.setRequestHeader(e,t)})),U.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),a&&"json"!==a&&(h.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",Et(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",Et(t.onUploadProgress)),(t.cancelToken||t.signal)&&(i=e=>{h&&(n(!e||e.type?new gt(null,t,h):e),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(i),t.signal&&(t.signal.aborted?i():t.signal.addEventListener("abort",i)));const f=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(l);f&&-1===ot.protocols.indexOf(f)?n(new j("Unsupported protocol "+f+":",j.ERR_BAD_REQUEST,t)):h.send(r||null)}))}};U.forEach(kt,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const St=t=>`- ${t}`,_t=t=>U.isFunction(t)||null===t||!1===t;var Ct={getAdapter:t=>{t=U.isArray(t)?t:[t];const{length:e}=t;let n,r;const o={};for(let i=0;i<e;i++){let e;if(n=t[i],r=n,!_t(n)&&(r=kt[(e=String(n)).toLowerCase()],void 0===r))throw new j(`Unknown adapter '${e}'`);if(r)break;o[e||"#"+i]=r}if(!r){const t=Object.entries(o).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));throw new j("There is no suitable adapter to dispatch the request "+(e?t.length>1?"since :\n"+t.map(St).join("\n"):" "+St(t[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r},adapters:kt};function At(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new gt(null,t)}function Tt(t){return At(t),t.headers=dt.from(t.headers),t.data=mt.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ct.getAdapter(t.adapter||at.adapter)(t).then((function(e){return At(t),e.data=mt.call(t,t.transformResponse,e),e.headers=dt.from(e.headers),e}),(function(e){return yt(e)||(At(t),e&&e.response&&(e.response.data=mt.call(t,t.transformResponse,e.response),e.response.headers=dt.from(e.response.headers))),Promise.reject(e)}))}const Ot=t=>t instanceof dt?t.toJSON():t;function Bt(t,e){e=e||{};const n={};function r(t,e,n){return U.isPlainObject(t)&&U.isPlainObject(e)?U.merge.call({caseless:n},t,e):U.isPlainObject(e)?U.merge({},e):U.isArray(e)?e.slice():e}function o(t,e,n){return U.isUndefined(e)?U.isUndefined(t)?void 0:r(void 0,t,n):r(t,e,n)}function i(t,e){if(!U.isUndefined(e))return r(void 0,e)}function s(t,e){return U.isUndefined(e)?U.isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function a(n,o,i){return i in e?r(n,o):i in t?r(void 0,n):void 0}const u={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(t,e)=>o(Ot(t),Ot(e),!0)};return U.forEach(Object.keys(Object.assign({},t,e)),(function(r){const i=u[r]||o,s=i(t[r],e[r],r);U.isUndefined(s)&&i!==a||(n[r]=s)})),n}const xt={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{xt[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const It={};xt.transitional=function(t,e,n){function r(t,e){return"[Axios v1.6.2] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,o,i)=>{if(!1===t)throw new j(r(o," has been removed"+(e?" in "+e:"")),j.ERR_DEPRECATED);return e&&!It[o]&&(It[o]=!0,console.warn(r(o," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,o,i)}};var Pt={assertOptions:function(t,e,n){if("object"!=typeof t)throw new j("options must be an object",j.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const i=r[o],s=e[i];if(s){const e=t[i],n=void 0===e||s(e,i,t);if(!0!==n)throw new j("option "+i+" must be "+n,j.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new j("Unknown option "+i,j.ERR_BAD_OPTION)}},validators:xt};const Dt=Pt.validators;class Rt{constructor(t){this.defaults=t,this.interceptors={request:new Q,response:new Q}}request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=Bt(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:o}=e;void 0!==n&&Pt.assertOptions(n,{silentJSONParsing:Dt.transitional(Dt.boolean),forcedJSONParsing:Dt.transitional(Dt.boolean),clarifyTimeoutError:Dt.transitional(Dt.boolean)},!1),null!=r&&(U.isFunction(r)?e.paramsSerializer={serialize:r}:Pt.assertOptions(r,{encode:Dt.function,serialize:Dt.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let i=o&&U.merge(o.common,o[e.method]);o&&U.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete o[t]})),e.headers=dt.concat(i,o);const s=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const u=[];let c;this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)}));let h,l=0;if(!a){const t=[Tt.bind(this),void 0];for(t.unshift.apply(t,s),t.push.apply(t,u),h=t.length,c=Promise.resolve(e);l<h;)c=c.then(t[l++],t[l++]);return c}h=s.length;let p=e;for(l=0;l<h;){const t=s[l++],e=s[l++];try{p=t(p)}catch(t){e.call(this,t);break}}try{c=Tt.call(this,p)}catch(t){return Promise.reject(t)}for(l=0,h=u.length;l<h;)c=c.then(u[l++],u[l++]);return c}getUri(t){return X(bt((t=Bt(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}U.forEach(["delete","get","head","options"],(function(t){Rt.prototype[t]=function(e,n){return this.request(Bt(n||{},{method:t,url:e,data:(n||{}).data}))}})),U.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,o){return this.request(Bt(o||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Rt.prototype[t]=e(),Rt.prototype[t+"Form"]=e(!0)}));var Nt=Rt;class Lt{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const r=new Promise((t=>{n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t,r,o){n.reason||(n.reason=new gt(t,r,o),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new Lt((function(e){t=e})),cancel:t}}}var Ut=Lt;const jt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jt).forEach((([t,e])=>{jt[e]=t}));var Mt=jt;const Ft=function t(e){const n=new Nt(e),o=r(Nt.prototype.request,n);return U.extend(o,Nt.prototype,n,{allOwnKeys:!0}),U.extend(o,n,null,{allOwnKeys:!0}),o.create=function(n){return t(Bt(e,n))},o}(at);Ft.Axios=Nt,Ft.CanceledError=gt,Ft.CancelToken=Ut,Ft.isCancel=yt,Ft.VERSION="1.6.2",Ft.toFormData=$,Ft.AxiosError=j,Ft.Cancel=Ft.CanceledError,Ft.all=function(t){return Promise.all(t)},Ft.spread=function(t){return function(e){return t.apply(null,e)}},Ft.isAxiosError=function(t){return U.isObject(t)&&!0===t.isAxiosError},Ft.mergeConfig=Bt,Ft.AxiosHeaders=dt,Ft.formToJSON=t=>it(U.isHTMLForm(t)?new FormData(t):t),Ft.getAdapter=Ct.getAdapter,Ft.HttpStatusCode=Mt,Ft.default=Ft,t.exports=Ft}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}return n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(7041)})()));
//# sourceMappingURL=pubq.min.js.map